<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f13bc85843fa14191e0ad4a3a157cf60.html">compiler</a></li><li class="navelem"><a class="el" href="dir_4172b1ff1383a72421e897c24b01e6f0.html">glsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lower_const_arrays_to_uniforms.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Lower constant arrays to uniform arrays.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ir_8h.html">ir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__visitor_8h.html">ir_visitor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__rvalue__visitor_8h.html">ir_rvalue_visitor.h</a>&quot;</code><br />
<code>#include &quot;compiler/glsl_types.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a090768dbf15ccf1fd0d1f0cad945176d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lower__const__arrays__to__uniforms_8cpp.html#a090768dbf15ccf1fd0d1f0cad945176d">lower_const_arrays_to_uniforms</a> (<a class="el" href="structexec__list.html">exec_list</a> *instructions, unsigned stage)</td></tr>
<tr class="separator:a090768dbf15ccf1fd0d1f0cad945176d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Lower constant arrays to uniform arrays. </p>
<p>Some driver backends (such as i965 and nouveau) don't handle constant arrays gracefully, instead treating them as ordinary writable temporary arrays. Since arrays can be large, this often means spilling them to scratch memory, which usually involves a large number of instructions.</p>
<p>This must be called prior to <a class="el" href="link__uniform__initializers_8cpp.html#a9c9338e89e2d3d43ed6b5813d7222651">link_set_uniform_initializers()</a>; we need the linker to process our new uniform's constant initializer.</p>
<p>This should be called after optimizations, since those can result in splitting and removing arrays that are indexed by constant expressions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a090768dbf15ccf1fd0d1f0cad945176d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090768dbf15ccf1fd0d1f0cad945176d">&sect;&nbsp;</a></span>lower_const_arrays_to_uniforms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lower_const_arrays_to_uniforms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structexec__list.html">exec_list</a> *&#160;</td>
          <td class="paramname"><em>instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>stage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="program_8h.html#afc0379dac600d4977ea2e7ae44096f1a">link_shaders()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
