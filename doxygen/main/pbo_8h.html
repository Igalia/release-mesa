<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_db8f13f21ca1473bc26b1a085f9dca79.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pbo.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mtypes_8h.html">mtypes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4642d0300a715b2593a8d61d4268b130"><td class="memItemLeft" align="right" valign="top">GLboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a4642d0300a715b2593a8d61d4268b130">_mesa_validate_pbo_access</a> (<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *pack, GLsizei width, GLsizei height, GLsizei depth, GLenum format, GLenum type, GLsizei clientMemSize, const GLvoid *ptr)</td></tr>
<tr class="memdesc:a4642d0300a715b2593a8d61d4268b130"><td class="mdescLeft">&#160;</td><td class="mdescRight">When we're about to read pixel data out of a PBO (via glDrawPixels, glTexImage, etc) or write data into a PBO (via glReadPixels, glGetTexImage, etc) we call this function to check that we're not going to read/write out of bounds.  <a href="#a4642d0300a715b2593a8d61d4268b130">More...</a><br /></td></tr>
<tr class="separator:a4642d0300a715b2593a8d61d4268b130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b04fa05a1fe0442e08dea5afc0880a"><td class="memItemLeft" align="right" valign="top">const GLvoid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#ac9b04fa05a1fe0442e08dea5afc0880a">_mesa_map_pbo_source</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, const GLvoid *src)</td></tr>
<tr class="memdesc:ac9b04fa05a1fe0442e08dea5afc0880a"><td class="mdescLeft">&#160;</td><td class="mdescRight">For commands that read from a PBO (glDrawPixels, glTexImage, glPolygonStipple, etc), if we're reading from a PBO, map it read-only and return the pointer into the PBO.  <a href="#ac9b04fa05a1fe0442e08dea5afc0880a">More...</a><br /></td></tr>
<tr class="separator:ac9b04fa05a1fe0442e08dea5afc0880a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167df55c581fd85fc3058b11619aca49"><td class="memItemLeft" align="right" valign="top">const GLvoid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a167df55c581fd85fc3058b11619aca49">_mesa_map_validate_pbo_source</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, GLsizei width, GLsizei height, GLsizei depth, GLenum format, GLenum type, GLsizei clientMemSize, const GLvoid *ptr, const char *where)</td></tr>
<tr class="memdesc:a167df55c581fd85fc3058b11619aca49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform PBO-read mapping.  <a href="#a167df55c581fd85fc3058b11619aca49">More...</a><br /></td></tr>
<tr class="separator:a167df55c581fd85fc3058b11619aca49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e433ad491cf5937f6fd1057b078939"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a27e433ad491cf5937f6fd1057b078939">_mesa_unmap_pbo_source</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack)</td></tr>
<tr class="memdesc:a27e433ad491cf5937f6fd1057b078939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counterpart to <a class="el" href="pbo_8c.html#ac9b04fa05a1fe0442e08dea5afc0880a" title="For commands that read from a PBO (glDrawPixels, glTexImage, glPolygonStipple, etc), if we&#39;re reading from a PBO, map it read-only and return the pointer into the PBO. ">_mesa_map_pbo_source()</a>  <a href="#a27e433ad491cf5937f6fd1057b078939">More...</a><br /></td></tr>
<tr class="separator:a27e433ad491cf5937f6fd1057b078939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923b7a8692b0718c5da91d220b56cca8"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a923b7a8692b0718c5da91d220b56cca8">_mesa_map_pbo_dest</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *pack, GLvoid *dest)</td></tr>
<tr class="memdesc:a923b7a8692b0718c5da91d220b56cca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">For commands that write to a PBO (glReadPixels, glGetColorTable, etc), if we're writing to a PBO, map it write-only and return the pointer into the PBO.  <a href="#a923b7a8692b0718c5da91d220b56cca8">More...</a><br /></td></tr>
<tr class="separator:a923b7a8692b0718c5da91d220b56cca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5960038b6b036b5144241ab71fbe13e5"><td class="memItemLeft" align="right" valign="top">GLvoid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a5960038b6b036b5144241ab71fbe13e5">_mesa_map_validate_pbo_dest</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, GLsizei width, GLsizei height, GLsizei depth, GLenum format, GLenum type, GLsizei clientMemSize, GLvoid *ptr, const char *where)</td></tr>
<tr class="memdesc:a5960038b6b036b5144241ab71fbe13e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Combine PBO-write validation and mapping.  <a href="#a5960038b6b036b5144241ab71fbe13e5">More...</a><br /></td></tr>
<tr class="separator:a5960038b6b036b5144241ab71fbe13e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d0bcd563041c1b474205f6b3d1764d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a10d0bcd563041c1b474205f6b3d1764d">_mesa_unmap_pbo_dest</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *pack)</td></tr>
<tr class="memdesc:a10d0bcd563041c1b474205f6b3d1764d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counterpart to <a class="el" href="pbo_8c.html#a923b7a8692b0718c5da91d220b56cca8" title="For commands that write to a PBO (glReadPixels, glGetColorTable, etc), if we&#39;re writing to a PBO...">_mesa_map_pbo_dest()</a>  <a href="#a10d0bcd563041c1b474205f6b3d1764d">More...</a><br /></td></tr>
<tr class="separator:a10d0bcd563041c1b474205f6b3d1764d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113a52a6e4d96a6322aa9f091e11f415"><td class="memItemLeft" align="right" valign="top">const GLvoid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a113a52a6e4d96a6322aa9f091e11f415">_mesa_validate_pbo_teximage</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, GLsizei width, GLsizei height, GLsizei depth, GLenum format, GLenum type, const GLvoid *pixels, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, const char *funcName)</td></tr>
<tr class="memdesc:a113a52a6e4d96a6322aa9f091e11f415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an unpack PBO is active prior to fetching a texture image.  <a href="#a113a52a6e4d96a6322aa9f091e11f415">More...</a><br /></td></tr>
<tr class="separator:a113a52a6e4d96a6322aa9f091e11f415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ea4c70969267d3989dd160cfe3d58f"><td class="memItemLeft" align="right" valign="top">const GLvoid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a44ea4c70969267d3989dd160cfe3d58f">_mesa_validate_pbo_compressed_teximage</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, GLsizei imageSize, const GLvoid *pixels, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *packing, const char *funcName)</td></tr>
<tr class="memdesc:a44ea4c70969267d3989dd160cfe3d58f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an unpack PBO is active prior to fetching a compressed texture image.  <a href="#a44ea4c70969267d3989dd160cfe3d58f">More...</a><br /></td></tr>
<tr class="separator:a44ea4c70969267d3989dd160cfe3d58f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1d197038a40de786b833083bbdbb69"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a3f1d197038a40de786b833083bbdbb69">_mesa_unmap_teximage_pbo</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack)</td></tr>
<tr class="memdesc:a3f1d197038a40de786b833083bbdbb69"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be called after either of the validate_pbo_*_teximage() functions.  <a href="#a3f1d197038a40de786b833083bbdbb69">More...</a><br /></td></tr>
<tr class="separator:a3f1d197038a40de786b833083bbdbb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad878d5a318e56073e7119ab7760cfd41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#ad878d5a318e56073e7119ab7760cfd41">_mesa_validate_pbo_source</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, GLsizei width, GLsizei height, GLsizei depth, GLenum format, GLenum type, GLsizei clientMemSize, const GLvoid *ptr, const char *where)</td></tr>
<tr class="memdesc:ad878d5a318e56073e7119ab7760cfd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform PBO validation for read operations with uncompressed textures.  <a href="#ad878d5a318e56073e7119ab7760cfd41">More...</a><br /></td></tr>
<tr class="separator:ad878d5a318e56073e7119ab7760cfd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076bd6ff3d615086d349926f32e6ff44"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pbo_8h.html#a076bd6ff3d615086d349926f32e6ff44">_mesa_validate_pbo_source_compressed</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> dimensions, const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *unpack, GLsizei imageSize, const GLvoid *ptr, const char *where)</td></tr>
<tr class="memdesc:a076bd6ff3d615086d349926f32e6ff44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform PBO validation for read operations with compressed textures.  <a href="#a076bd6ff3d615086d349926f32e6ff44">More...</a><br /></td></tr>
<tr class="separator:a076bd6ff3d615086d349926f32e6ff44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a923b7a8692b0718c5da91d220b56cca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a923b7a8692b0718c5da91d220b56cca8">&sect;&nbsp;</a></span>_mesa_map_pbo_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>* _mesa_map_pbo_dest </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLvoid *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For commands that write to a PBO (glReadPixels, glGetColorTable, etc), if we're writing to a PBO, map it write-only and return the pointer into the PBO. </p>
<p>If we're not writing to a PBO, return <code>dst</code> as-is. If non-null return, must call <a class="el" href="pbo_8c.html#a10d0bcd563041c1b474205f6b3d1764d" title="Counterpart to _mesa_map_pbo_dest() ">_mesa_unmap_pbo_dest()</a> when done.</p>
<dl class="section return"><dt>Returns</dt><dd>NULL if error, else pointer to start of data </dd></dl>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="imports_8h.html#a57300205ec3b5a0a89d9ea9d358bdfcc">ADD_POINTERS</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structdd__function__table.html#a0299f99f38a0bb9fc7e27ca6ad845711">dd_function_table::MapBufferRange</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="pixel_8h.html#a78e2fd0f124251c094fa6beaaf7e281a">_mesa_GetnPixelMapfvARB()</a>, <a class="el" href="pixel_8h.html#ac9de01ad3f881a83f19c0eb7d0edf197">_mesa_GetnPixelMapuivARB()</a>, <a class="el" href="pixel_8h.html#a70d27781a158f5529ea624c928fc1b47">_mesa_GetnPixelMapusvARB()</a>, <a class="el" href="pbo_8h.html#a5960038b6b036b5144241ab71fbe13e5">_mesa_map_validate_pbo_dest()</a>, and <a class="el" href="readpix_8h.html#af1399ac12649d61bf6d82c408952042e">_mesa_readpixels()</a>.</p>

</div>
</div>
<a id="ac9b04fa05a1fe0442e08dea5afc0880a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b04fa05a1fe0442e08dea5afc0880a">&sect;&nbsp;</a></span>_mesa_map_pbo_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GLvoid* _mesa_map_pbo_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For commands that read from a PBO (glDrawPixels, glTexImage, glPolygonStipple, etc), if we're reading from a PBO, map it read-only and return the pointer into the PBO. </p>
<p>If we're not reading from a PBO, return <code>src</code> as-is. If non-null return, must call <a class="el" href="pbo_8c.html#a27e433ad491cf5937f6fd1057b078939" title="Counterpart to _mesa_map_pbo_source() ">_mesa_unmap_pbo_source()</a> when done.</p>
<dl class="section return"><dt>Returns</dt><dd>NULL if error, else pointer to start of data </dd></dl>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="imports_8h.html#a57300205ec3b5a0a89d9ea9d358bdfcc">ADD_POINTERS</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structdd__function__table.html#a0299f99f38a0bb9fc7e27ca6ad845711">dd_function_table::MapBufferRange</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="pbo_8h.html#a167df55c581fd85fc3058b11619aca49">_mesa_map_validate_pbo_source()</a>, <a class="el" href="pixel_8h.html#adc8e6210dbc8c1ff92d7dea9f7a72262">_mesa_PixelMapfv()</a>, <a class="el" href="pixel_8h.html#a062184f72dbd88f9265ab50509b7d90f">_mesa_PixelMapuiv()</a>, and <a class="el" href="pixel_8h.html#a888c2eadfd20763d06e82c3ba6bb5383">_mesa_PixelMapusv()</a>.</p>

</div>
</div>
<a id="a5960038b6b036b5144241ab71fbe13e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5960038b6b036b5144241ab71fbe13e5">&sect;&nbsp;</a></span>_mesa_map_validate_pbo_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLvoid* _mesa_map_validate_pbo_dest </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>clientMemSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLvoid *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Combine PBO-write validation and mapping. </p>
<p>If any GL errors are detected, they'll be recorded and NULL returned. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="pbo_8c.html#a4642d0300a715b2593a8d61d4268b130" title="When we&#39;re about to read pixel data out of a PBO (via glDrawPixels, glTexImage, etc) or write data in...">_mesa_validate_pbo_access</a> </dd>
<dd>
<a class="el" href="pbo_8c.html#a923b7a8692b0718c5da91d220b56cca8" title="For commands that write to a PBO (glReadPixels, glGetColorTable, etc), if we&#39;re writing to a PBO...">_mesa_map_pbo_dest</a> <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__matrix_8c.html#a77187b94e6ac6de10299d1d23dd38618">A</a> call to this function should have a matching call to <a class="el" href="pbo_8c.html#a10d0bcd563041c1b474205f6b3d1764d" title="Counterpart to _mesa_map_pbo_dest() ">_mesa_unmap_pbo_dest()</a>. </dd></dl>

<p>References <a class="el" href="bufferobj_8h.html#af4ab2bad60a46fa43a24a5ee092ab217">_mesa_check_disallowed_mapping()</a>, <a class="el" href="errors_8c.html#aeb37ff435d2815d8cb8e33013596dcb2">_mesa_error()</a>, <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="pbo_8c.html#a923b7a8692b0718c5da91d220b56cca8">_mesa_map_pbo_dest()</a>, <a class="el" href="pbo_8c.html#a4642d0300a715b2593a8d61d4268b130">_mesa_validate_pbo_access()</a>, and <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>.</p>

<p>Referenced by <a class="el" href="polygon_8h.html#ae4c93f954d1316aebf88e88dd9cb24fc">_mesa_GetnPolygonStippleARB()</a>.</p>

</div>
</div>
<a id="a167df55c581fd85fc3058b11619aca49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167df55c581fd85fc3058b11619aca49">&sect;&nbsp;</a></span>_mesa_map_validate_pbo_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GLvoid* _mesa_map_validate_pbo_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>clientMemSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform PBO-read mapping. </p>
<p>If any GL errors are detected, they'll be recorded and NULL returned. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="pbo_8c.html#ad878d5a318e56073e7119ab7760cfd41" title="Perform PBO validation for read operations with uncompressed textures. ">_mesa_validate_pbo_source</a> </dd>
<dd>
<a class="el" href="pbo_8c.html#ac9b04fa05a1fe0442e08dea5afc0880a" title="For commands that read from a PBO (glDrawPixels, glTexImage, glPolygonStipple, etc), if we&#39;re reading from a PBO, map it read-only and return the pointer into the PBO. ">_mesa_map_pbo_source</a> <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__matrix_8c.html#a77187b94e6ac6de10299d1d23dd38618">A</a> call to this function should have a matching call to <a class="el" href="pbo_8c.html#a27e433ad491cf5937f6fd1057b078939" title="Counterpart to _mesa_map_pbo_source() ">_mesa_unmap_pbo_source()</a>. </dd></dl>

<p>References <a class="el" href="pbo_8c.html#ac9b04fa05a1fe0442e08dea5afc0880a">_mesa_map_pbo_source()</a>, and <a class="el" href="pbo_8c.html#ad878d5a318e56073e7119ab7760cfd41">_mesa_validate_pbo_source()</a>.</p>

<p>Referenced by <a class="el" href="polygon_8h.html#a6cf3a5112d2bfe02a5b6bc50949cf015">_mesa_PolygonStipple()</a>.</p>

</div>
</div>
<a id="a10d0bcd563041c1b474205f6b3d1764d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d0bcd563041c1b474205f6b3d1764d">&sect;&nbsp;</a></span>_mesa_unmap_pbo_dest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_unmap_pbo_dest </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>pack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counterpart to <a class="el" href="pbo_8c.html#a923b7a8692b0718c5da91d220b56cca8" title="For commands that write to a PBO (glReadPixels, glGetColorTable, etc), if we&#39;re writing to a PBO...">_mesa_map_pbo_dest()</a> </p>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structdd__function__table.html#acadc738cfce1575d70f2eed261eb8e0c">dd_function_table::UnmapBuffer</a>, and <a class="el" href="structgl__context.html#aa7be6bf26321340cd2fcb3857c2756b6">gl_context::Unpack</a>.</p>

<p>Referenced by <a class="el" href="pixel_8h.html#a78e2fd0f124251c094fa6beaaf7e281a">_mesa_GetnPixelMapfvARB()</a>, <a class="el" href="pixel_8h.html#ac9de01ad3f881a83f19c0eb7d0edf197">_mesa_GetnPixelMapuivARB()</a>, <a class="el" href="pixel_8h.html#a70d27781a158f5529ea624c928fc1b47">_mesa_GetnPixelMapusvARB()</a>, <a class="el" href="polygon_8h.html#ae4c93f954d1316aebf88e88dd9cb24fc">_mesa_GetnPolygonStippleARB()</a>, and <a class="el" href="readpix_8h.html#af1399ac12649d61bf6d82c408952042e">_mesa_readpixels()</a>.</p>

</div>
</div>
<a id="a27e433ad491cf5937f6fd1057b078939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e433ad491cf5937f6fd1057b078939">&sect;&nbsp;</a></span>_mesa_unmap_pbo_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_unmap_pbo_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counterpart to <a class="el" href="pbo_8c.html#ac9b04fa05a1fe0442e08dea5afc0880a" title="For commands that read from a PBO (glDrawPixels, glTexImage, glPolygonStipple, etc), if we&#39;re reading from a PBO, map it read-only and return the pointer into the PBO. ">_mesa_map_pbo_source()</a> </p>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structgl__context.html#a5ccb9b34c3177329f8bfc758161c60a2">gl_context::Pack</a>, and <a class="el" href="structdd__function__table.html#acadc738cfce1575d70f2eed261eb8e0c">dd_function_table::UnmapBuffer</a>.</p>

<p>Referenced by <a class="el" href="pixel_8h.html#adc8e6210dbc8c1ff92d7dea9f7a72262">_mesa_PixelMapfv()</a>, <a class="el" href="pixel_8h.html#a062184f72dbd88f9265ab50509b7d90f">_mesa_PixelMapuiv()</a>, <a class="el" href="pixel_8h.html#a888c2eadfd20763d06e82c3ba6bb5383">_mesa_PixelMapusv()</a>, and <a class="el" href="polygon_8h.html#a6cf3a5112d2bfe02a5b6bc50949cf015">_mesa_PolygonStipple()</a>.</p>

</div>
</div>
<a id="a3f1d197038a40de786b833083bbdbb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1d197038a40de786b833083bbdbb69">&sect;&nbsp;</a></span>_mesa_unmap_teximage_pbo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_unmap_teximage_pbo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be called after either of the validate_pbo_*_teximage() functions. </p>
<p>It unmaps the PBO buffer if it was mapped earlier. </p>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, and <a class="el" href="structdd__function__table.html#acadc738cfce1575d70f2eed261eb8e0c">dd_function_table::UnmapBuffer</a>.</p>

<p>Referenced by <a class="el" href="texstore_8h.html#ad8c701901d58e2b04c0fc6b94971cb70">_mesa_store_compressed_texsubimage()</a>, and <a class="el" href="texstore_8c.html#a13b14775970263646a5f4157f906fced">store_texsubimage()</a>.</p>

</div>
</div>
<a id="a4642d0300a715b2593a8d61d4268b130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4642d0300a715b2593a8d61d4268b130">&sect;&nbsp;</a></span>_mesa_validate_pbo_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLboolean _mesa_validate_pbo_access </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>clientMemSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When we're about to read pixel data out of a PBO (via glDrawPixels, glTexImage, etc) or write data into a PBO (via glReadPixels, glGetTexImage, etc) we call this function to check that we're not going to read/write out of bounds. </p>
<p>XXX This would also be a convenient time to check that the PBO isn't currently mapped. Whoever calls this function should check for that. Remember, we can't use a PBO when it's mapped!</p>
<p>If we're not using a PBO, this is a no-op.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>width of image to read/write </td></tr>
    <tr><td class="paramname">height</td><td>height of image to read/write </td></tr>
    <tr><td class="paramname">depth</td><td>depth of image to read/write </td></tr>
    <tr><td class="paramname">format</td><td>format of image to read/write </td></tr>
    <tr><td class="paramname">type</td><td>datatype of image to read/write </td></tr>
    <tr><td class="paramname">clientMemSize</td><td>the maximum number of bytes to read/write </td></tr>
    <tr><td class="paramname">ptr</td><td>the user-provided pointer/offset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GL_TRUE if the buffer access is OK, GL_FALSE if the access would go out of bounds. </dd></dl>

<p>References <a class="el" href="image_8c.html#a349c7efa0b2a44e2e4de1f995bd60a56">_mesa_image_offset()</a>, <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="glformats_8c.html#ac81b82fc7cf6fe0a47ae51278f917118">_mesa_sizeof_packed_type()</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="drawpix_8h.html#a5917a71b3fe420c75e436c2ad30e3882">_mesa_Bitmap()</a>, <a class="el" href="drawpix_8h.html#a0d4dad38028e94c609efcb8e3bd03551">_mesa_DrawPixels()</a>, <a class="el" href="pbo_8h.html#a5960038b6b036b5144241ab71fbe13e5">_mesa_map_validate_pbo_dest()</a>, <a class="el" href="readpix_8h.html#a9a250af15b55197fa494d7eb4ff48555">_mesa_ReadnPixelsARB()</a>, <a class="el" href="pbo_8h.html#ad878d5a318e56073e7119ab7760cfd41">_mesa_validate_pbo_source()</a>, <a class="el" href="pbo_8h.html#a113a52a6e4d96a6322aa9f091e11f415">_mesa_validate_pbo_teximage()</a>, <a class="el" href="texgetimage_8c.html#ae1273e1540260e3b62e9fda82347e5e3">pbo_error_check()</a>, <a class="el" href="dlist_8c.html#a5e64c9572ae7d1732113c0bebb1707a3">unpack_image()</a>, and <a class="el" href="pixel_8c.html#a853f0cf4a0d175ec038303dc1b4fce2b">validate_pbo_access()</a>.</p>

</div>
</div>
<a id="a44ea4c70969267d3989dd160cfe3d58f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ea4c70969267d3989dd160cfe3d58f">&sect;&nbsp;</a></span>_mesa_validate_pbo_compressed_teximage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GLvoid* _mesa_validate_pbo_compressed_teximage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>imageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>packing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>funcName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an unpack PBO is active prior to fetching a compressed texture image. </p>
<p>If so, do bounds checking and map the buffer into main memory. Any errors detected will be recorded. The caller <em>must</em> call <a class="el" href="pbo_8c.html#a3f1d197038a40de786b833083bbdbb69" title="This function must be called after either of the validate_pbo_*_teximage() functions. ">_mesa_unmap_teximage_pbo()</a> too! </p>

<p>References <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="pbo_8c.html#a48dfc19492320ae350c347b74866b2c5">_mesa_validate_pbo_source_compressed()</a>, <a class="el" href="imports_8h.html#a57300205ec3b5a0a89d9ea9d358bdfcc">ADD_POINTERS</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structdd__function__table.html#a0299f99f38a0bb9fc7e27ca6ad845711">dd_function_table::MapBufferRange</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="texstore_8h.html#ad8c701901d58e2b04c0fc6b94971cb70">_mesa_store_compressed_texsubimage()</a>.</p>

</div>
</div>
<a id="ad878d5a318e56073e7119ab7760cfd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad878d5a318e56073e7119ab7760cfd41">&sect;&nbsp;</a></span>_mesa_validate_pbo_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _mesa_validate_pbo_source </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>clientMemSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform PBO validation for read operations with uncompressed textures. </p>
<p>If any GL errors are detected, false is returned, otherwise returns true. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="pbo_8c.html#a4642d0300a715b2593a8d61d4268b130" title="When we&#39;re about to read pixel data out of a PBO (via glDrawPixels, glTexImage, etc) or write data in...">_mesa_validate_pbo_access</a> </dd></dl>

<p>References <a class="el" href="bufferobj_8h.html#af4ab2bad60a46fa43a24a5ee092ab217">_mesa_check_disallowed_mapping()</a>, <a class="el" href="errors_8c.html#aeb37ff435d2815d8cb8e33013596dcb2">_mesa_error()</a>, <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="pbo_8c.html#a4642d0300a715b2593a8d61d4268b130">_mesa_validate_pbo_access()</a>, and <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>.</p>

<p>Referenced by <a class="el" href="pbo_8h.html#a167df55c581fd85fc3058b11619aca49">_mesa_map_validate_pbo_source()</a>, <a class="el" href="teximage_8c.html#a09c86f3bcff8ae00d01953663270214d">texsubimage_error_check()</a>, and <a class="el" href="teximage_8c.html#a8ff539c4516e67552d959dee39c6b241">texture_error_check()</a>.</p>

</div>
</div>
<a id="a076bd6ff3d615086d349926f32e6ff44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a076bd6ff3d615086d349926f32e6ff44">&sect;&nbsp;</a></span>_mesa_validate_pbo_source_compressed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _mesa_validate_pbo_source_compressed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>imageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform PBO validation for read operations with compressed textures. </p>
<p>If any GL errors are detected, false is returned, otherwise returns true. </p>

<p>References <a class="el" href="bufferobj_8h.html#af4ab2bad60a46fa43a24a5ee092ab217">_mesa_check_disallowed_mapping()</a>, <a class="el" href="errors_8c.html#aeb37ff435d2815d8cb8e33013596dcb2">_mesa_error()</a>, <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="pbo_8h.html#a44ea4c70969267d3989dd160cfe3d58f">_mesa_validate_pbo_compressed_teximage()</a>, <a class="el" href="teximage_8c.html#ad0345fa740c438042a68956012726305">compressed_subtexture_error_check()</a>, and <a class="el" href="teximage_8c.html#ab0af262eca4a1b5a69ed3f059437ff8a">compressed_texture_error_check()</a>.</p>

</div>
</div>
<a id="a113a52a6e4d96a6322aa9f091e11f415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113a52a6e4d96a6322aa9f091e11f415">&sect;&nbsp;</a></span>_mesa_validate_pbo_teximage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GLvoid* _mesa_validate_pbo_teximage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>dimensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLsizei&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLvoid *&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structgl__pixelstore__attrib.html">gl_pixelstore_attrib</a> *&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>funcName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an unpack PBO is active prior to fetching a texture image. </p>
<p>If so, do bounds checking and map the buffer into main memory. Any errors detected will be recorded. The caller <em>must</em> call <a class="el" href="pbo_8c.html#a3f1d197038a40de786b833083bbdbb69" title="This function must be called after either of the validate_pbo_*_teximage() functions. ">_mesa_unmap_teximage_pbo()</a> too! </p>

<p>References <a class="el" href="errors_8c.html#aeb37ff435d2815d8cb8e33013596dcb2">_mesa_error()</a>, <a class="el" href="bufferobj_8h.html#ab72eda6d90203d1498c1a56f04cdaec7">_mesa_is_bufferobj()</a>, <a class="el" href="pbo_8c.html#a4642d0300a715b2593a8d61d4268b130">_mesa_validate_pbo_access()</a>, <a class="el" href="imports_8h.html#a57300205ec3b5a0a89d9ea9d358bdfcc">ADD_POINTERS</a>, <a class="el" href="structgl__pixelstore__attrib.html#aead9ae4278c90818c3218931c0788220">gl_pixelstore_attrib::BufferObj</a>, <a class="el" href="structgl__context.html#ab3a40dffd6176c154014e6ed457da31e">gl_context::Driver</a>, <a class="el" href="mtypes_8h.html#a943bef3a7e4411cb5151540439f8cdcfaa5b7ce5211d61224175cb76909a0690d">MAP_INTERNAL</a>, <a class="el" href="structdd__function__table.html#a0299f99f38a0bb9fc7e27ca6ad845711">dd_function_table::MapBufferRange</a>, and <a class="el" href="structgl__buffer__object.html#a471e97d10220fafccb2437b0ae2a8793">gl_buffer_object::Size</a>.</p>

<p>Referenced by <a class="el" href="texstore_8c.html#a13b14775970263646a5f4157f906fced">store_texsubimage()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
