<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f13bc85843fa14191e0ad4a3a157cf60.html">compiler</a></li><li class="navelem"><a class="el" href="dir_4172b1ff1383a72421e897c24b01e6f0.html">glsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">program.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a111081e42f975ebef9690d2fea9c4180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#a111081e42f975ebef9690d2fea9c4180">_mesa_glsl_compile_shader</a> (struct gl_context *ctx, struct gl_shader *shader, bool dump_ast, bool dump_hir, bool force_recompile)</td></tr>
<tr class="separator:a111081e42f975ebef9690d2fea9c4180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0379dac600d4977ea2e7ae44096f1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#afc0379dac600d4977ea2e7ae44096f1a">link_shaders</a> (struct gl_context *ctx, struct gl_shader_program *prog)</td></tr>
<tr class="separator:afc0379dac600d4977ea2e7ae44096f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ff1621822a1393f8be7f39e64cca8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#a62ff1621822a1393f8be7f39e64cca8c">build_program_resource_list</a> (struct gl_context *ctx, struct gl_shader_program *shProg)</td></tr>
<tr class="memdesc:a62ff1621822a1393f8be7f39e64cca8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds up a list of program resources that point to existing resource data.  <a href="#a62ff1621822a1393f8be7f39e64cca8c">More...</a><br /></td></tr>
<tr class="separator:a62ff1621822a1393f8be7f39e64cca8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b13db0733481fcb1e0b21c5a3afc5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#a03b13db0733481fcb1e0b21c5a3afc5a">linker_error</a> (struct gl_shader_program *prog, const char *fmt,...) PRINTFLIKE(2</td></tr>
<tr class="separator:a03b13db0733481fcb1e0b21c5a3afc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a8c555d1f67f80262cea3c6af79e43"><td class="memItemLeft" align="right" valign="top">void void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#aa1a8c555d1f67f80262cea3c6af79e43">linker_warning</a> (struct gl_shader_program *prog, const char *fmt,...) PRINTFLIKE(2</td></tr>
<tr class="separator:aa1a8c555d1f67f80262cea3c6af79e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec47ae4a3affbf89d1c146ff21235206"><td class="memItemLeft" align="right" valign="top">void void long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="program_8h.html#aec47ae4a3affbf89d1c146ff21235206">parse_program_resource_name</a> (const GLchar *name, const GLchar **out_base_name_end)</td></tr>
<tr class="memdesc:aec47ae4a3affbf89d1c146ff21235206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a string identifying a program resource, break it into a base name and an optional array index in square brackets.  <a href="#aec47ae4a3affbf89d1c146ff21235206">More...</a><br /></td></tr>
<tr class="separator:aec47ae4a3affbf89d1c146ff21235206"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a111081e42f975ebef9690d2fea9c4180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111081e42f975ebef9690d2fea9c4180">&sect;&nbsp;</a></span>_mesa_glsl_compile_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _mesa_glsl_compile_shader </td>
          <td>(</td>
          <td class="paramtype">struct gl_context *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gl_shader *&#160;</td>
          <td class="paramname"><em>shader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dump_ast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dump_hir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_recompile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="ast_8h.html#a13a9b8c3eda8d5a30843e02410e656db">_mesa_ast_to_hir()</a>, <a class="el" href="builtin__variables_8cpp.html#af36cf25b20067cb92cded13a9637f2b9">_mesa_glsl_initialize_derived_variables()</a>, <a class="el" href="ir_8h.html#abed6a78e0ec134b84cea31a7d38d66a7">_mesa_print_ir()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#a7f2ccb94f9d37320d354974701750282">add_builtin_defines()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#a954693f3ce5d1962cc3e506c2d2b8106">assign_subroutine_indexes()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#aab0cfdc8611fe7e19824c3382e8eb780">do_common_optimization()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#ab42e26a6141129c36b5a5ac82f18058e">do_late_parsing_checks()</a>, <a class="el" href="list_8h.html#a4362e0f8b8fc67425af257817268bd8a">foreach_in_list</a>, <a class="el" href="list_8h.html#a2233ab0204ec07b4de688195f1a904fc">foreach_list_typed</a>, <a class="el" href="glsl__parser__extras_8h.html#a69261349cc8aa9dbc9bd11dab74b67ac">glcpp_preprocess()</a>, <a class="el" href="classast__node.html#a2236eb35b2fa19f3e6760e80ca372a70">ast_node::link</a>, <a class="el" href="ir__optimization_8h.html#adc1cc1c4d2a31b98c681f3c73ed326d7">lower_subroutine()</a>, <a class="el" href="ir__optimization_8h.html#aae0b9068fbbd6726cc9cb004fff438b5">optimize_dead_builtin_variables()</a>, <a class="el" href="main_8cpp.html#a987f46fcb79db922042d2c58d2df6ae3">options</a>, <a class="el" href="ir_8cpp.html#a60a731770eef2674ebd9e7ec933608f8">reparent_ir()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#a01a226ecc62d0b270d68117376541f01">set_shader_inout_layout()</a>, <a class="el" href="classast__node.html#a3edb2d2eb5d1bb33b401299548bd209d">ast_node::source</a>, and <a class="el" href="ir__validate_8cpp.html#a0b3d86acf4cc762367e632a3348683bd">validate_ir_tree()</a>.</p>

<p>Referenced by <a class="el" href="standalone_8cpp.html#af583b47bb85a98c84438a5623c75322e">compile_shader()</a>, <a class="el" href="shader__cache_8cpp.html#a191b0570c7aa7f1777faab24612a2886">compile_shaders()</a>, and <a class="el" href="program_8h.html#afc0379dac600d4977ea2e7ae44096f1a">link_shaders()</a>.</p>

</div>
</div>
<a id="a62ff1621822a1393f8be7f39e64cca8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ff1621822a1393f8be7f39e64cca8c">&sect;&nbsp;</a></span>build_program_resource_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void build_program_resource_list </td>
          <td>(</td>
          <td class="paramtype">struct gl_context *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gl_shader_program *&#160;</td>
          <td class="paramname"><em>shProg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds up a list of program resources that point to existing resource data. </p>

<p>References <a class="el" href="linker_8cpp.html#a99a6d18e5aa7b2d5f1e2e9e7b4b053db">add_fragdata_arrays()</a>, <a class="el" href="linker_8cpp.html#aced5d352496870b718d1e198c28af452">add_interface_variables()</a>, <a class="el" href="linker_8cpp.html#aaef0c24217e58d5f910878f42b8ec25a">add_packed_varyings()</a>, <a class="el" href="linker_8cpp.html#aaed610c23bfbc71bf69dc3d1a533e422">add_program_resource()</a>, <a class="el" href="linker_8cpp.html#ab34fc66e043a17523fa4d172a27cb489">build_stageref()</a>, <a class="el" href="linker_8cpp.html#a80ab61e2b23470098ff1402cd3a0aadf">calculate_array_size_and_stride()</a>, and <a class="el" href="linker_8cpp.html#a6c6382711014a6576aba7742d3fe243d">should_add_buffer_variable()</a>.</p>

</div>
</div>
<a id="afc0379dac600d4977ea2e7ae44096f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0379dac600d4977ea2e7ae44096f1a">&sect;&nbsp;</a></span>link_shaders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void link_shaders </td>
          <td>(</td>
          <td class="paramtype">struct gl_context *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gl_shader_program *&#160;</td>
          <td class="paramname"><em>prog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="standalone__scaffolding_8cpp.html#a0ea9f8b852854923181646e86146d9a1">_mesa_delete_linked_shader()</a>, <a class="el" href="glsl__parser__extras_8cpp.html#a111081e42f975ebef9690d2fea9c4180">_mesa_glsl_compile_shader()</a>, <a class="el" href="linker_8cpp.html#aabdc5422ef8e8957870082e8f94922f8">check_explicit_uniform_locations()</a>, <a class="el" href="link__varyings_8cpp.html#aa0d1d4914da9f2198d49f76b224928e0">cross_validate_outputs_to_inputs()</a>, <a class="el" href="linker_8cpp.html#a8e360e644bf2d1c477cf9e5b7759c1ed">cross_validate_uniforms()</a>, <a class="el" href="ir__function__detect__recursion_8cpp.html#ae9003a506720cfb369d463b1e3031e69">detect_recursion_linked()</a>, <a class="el" href="linker_8cpp.html#ad92d21575c146aa70e71d2da88fddb96">disable_varying_optimizations_for_sso()</a>, <a class="el" href="linker_8cpp.html#acc7e1081f0dfae67e754fdc11a0dfce6">interstage_cross_validate_uniform_blocks()</a>, <a class="el" href="linker_8cpp.html#a4ad37d6a7c1740057adb465c04f7f783">link_assign_subroutine_types()</a>, <a class="el" href="linker_8cpp.html#a3f77dcfc952254e1e15cf397d2f086be">link_intrastage_shaders()</a>, <a class="el" href="linker_8cpp.html#a5097353009758608deda416ed5d6c69a">link_varyings_and_uniforms()</a>, <a class="el" href="linker_8cpp.html#af2ae63b42d06c5aeeced547b1568e917">linker_error()</a>, <a class="el" href="linker_8cpp.html#a82fe0d2e9e11d7eabd04d64b1e3bb664">linker_optimisation_loop()</a>, <a class="el" href="ir__optimization_8h.html#a6814b10b0edd980354172016fa8e76d2">lower_clip_cull_distance()</a>, <a class="el" href="ir__optimization_8h.html#a090768dbf15ccf1fd0d1f0cad945176d">lower_const_arrays_to_uniforms()</a>, <a class="el" href="ir__optimization_8h.html#a6231cea7abe0554649d3d0f72d3529db">lower_discard_flow()</a>, <a class="el" href="ir__optimization_8h.html#a9613e4f5f8a93e6ce47ac16e2a9529f2">lower_named_interface_blocks()</a>, <a class="el" href="ir__optimization_8h.html#ae8ffcc29659ed5b17d7f102a4ffd1e3c">lower_tess_level()</a>, <a class="el" href="ir__optimization_8h.html#a0eedf6111fec7dd4700919dc9fa0a406">propagate_invariance()</a>, <a class="el" href="ir_8cpp.html#a60a731770eef2674ebd9e7ec933608f8">reparent_ir()</a>, <a class="el" href="linker_8cpp.html#aa19261b3cd5a02f93297dd0d8133fe20">resize_tes_inputs()</a>, <a class="el" href="shader__cache_8cpp.html#ae93d930c5601558a3410709c589ea918">shader_cache_read_program_metadata()</a>, <a class="el" href="linker_8cpp.html#afc57971e6d5079413e7946e75261560a">store_fragdepth_layout()</a>, <a class="el" href="linker_8cpp.html#a7aceeeb8435b6aadfa0cf108227fd622">validate_fragment_shader_executable()</a>, <a class="el" href="linker_8cpp.html#ae696b8dbcf2827ebe95780cc629a99c7">validate_geometry_shader_emissions()</a>, <a class="el" href="linker_8cpp.html#ae951a50bc60305270e4142bdfc49b812">validate_geometry_shader_executable()</a>, <a class="el" href="link__interface__blocks_8cpp.html#a8e354e8bb288a7d87666bfbecaf65846">validate_interstage_inout_blocks()</a>, <a class="el" href="link__interface__blocks_8cpp.html#a7c9ee665bf781ea4379ff342964c0ef8">validate_interstage_uniform_blocks()</a>, <a class="el" href="ir__validate_8cpp.html#a0b3d86acf4cc762367e632a3348683bd">validate_ir_tree()</a>, <a class="el" href="linker_8cpp.html#a3f7e82f0f9642993d8a1a1064cf69e58">validate_sampler_array_indexing()</a>, <a class="el" href="linker_8cpp.html#a83206c47d44f9029b9c2b09350bcab3a">validate_tess_eval_shader_executable()</a>, and <a class="el" href="linker_8cpp.html#aa36cf54072e51b185f2e1c192ad29975">validate_vertex_shader_executable()</a>.</p>

<p>Referenced by <a class="el" href="standalone_8h.html#ac5c387ef48cb1e69bf4c0cf8b039506d">standalone_compile_shader()</a>.</p>

</div>
</div>
<a id="a03b13db0733481fcb1e0b21c5a3afc5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b13db0733481fcb1e0b21c5a3afc5a">&sect;&nbsp;</a></span>linker_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void linker_error </td>
          <td>(</td>
          <td class="paramtype">struct gl_shader_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1a8c555d1f67f80262cea3c6af79e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a8c555d1f67f80262cea3c6af79e43">&sect;&nbsp;</a></span>linker_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void void linker_warning </td>
          <td>(</td>
          <td class="paramtype">struct gl_shader_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aec47ae4a3affbf89d1c146ff21235206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec47ae4a3affbf89d1c146ff21235206">&sect;&nbsp;</a></span>parse_program_resource_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void void long parse_program_resource_name </td>
          <td>(</td>
          <td class="paramtype">const GLchar *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLchar **&#160;</td>
          <td class="paramname"><em>out_base_name_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a string identifying a program resource, break it into a base name and an optional array index in square brackets. </p>
<p>If an array index is present, <code>out_base_name_end</code> is set to point to the "[" that precedes the array index, and the array index itself is returned as a long.</p>
<p>If no array index is present (or if the array index is negative or mal-formed), <code>out_base_name_end</code>, is set to point to the null terminator at the end of the input string, and -1 is returned.</p>
<p>Only the final array index is parsed; if the string contains other array indices (or structure field accesses), they are left in the base name.</p>
<p>No attempt is made to check that the base name is properly formed; typically the caller will look up the base name in a hash table, so ill-formed base names simply turn into hash table lookup failures. </p>

<p>Referenced by <a class="el" href="classtfeedback__decl.html#a04b666a450540add34b8bc7271e2b7d8">tfeedback_decl::init()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
