<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">value Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Variable-based copy propagation.  
 <a href="structvalue.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a437d2672e920786b66a79006f409fd3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvalue.html#a437d2672e920786b66a79006f409fd3f">is_ssa</a></td></tr>
<tr class="separator:a437d2672e920786b66a79006f409fd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28e504bf332cf056849b12f21245942"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:af20d24c588bcec4ad53cb8fcd8745cb7"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="structnir__ssa__def.html">nir_ssa_def</a> *&#160;&#160;&#160;<a class="el" href="structvalue.html#a401b114bf30ba22f3dd4df3d7edc9761">ssa</a> [4]</td></tr>
<tr class="separator:af20d24c588bcec4ad53cb8fcd8745cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995a6a1324eeaef27880d9c2289a3af9"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="structnir__deref__var.html">nir_deref_var</a> *&#160;&#160;&#160;<a class="el" href="structvalue.html#ad47e58bda47893cbfb2a97208e8bd9e7">deref</a></td></tr>
<tr class="separator:a995a6a1324eeaef27880d9c2289a3af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28e504bf332cf056849b12f21245942"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:ab28e504bf332cf056849b12f21245942"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Variable-based copy propagation. </p>
<p>Normally, NIR trusts in SSA form for most of its copy-propagation needs. However, there are cases, especially when dealing with indirects, where SSA won't help you. This pass is for those times. Specifically, it handles the following things that the rest of NIR can't:</p>
<p>1) Copy-propagation on variables that have indirect access. This includes propagating from indirect stores into indirect loads.</p>
<p>2) Dead code elimination of store_var and copy_var intrinsics based on killed destination values.</p>
<p>3) Removal of redundant load_var intrinsics. We can't trust regular CSE to do this because it isn't aware of variable writes that may alias the value and make the former load invalid.</p>
<p>Unfortunately, properly handling all of those cases makes this path rather complex. In order to avoid additional complexity, this pass is entirely block-local. If we tried to make it global, the data-flow analysis would rapidly get out of hand. Fortunately, for anything that is only ever accessed directly, we get SSA based copy-propagation which is extremely powerful so this isn't that great a loss. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ab28e504bf332cf056849b12f21245942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28e504bf332cf056849b12f21245942">&sect;&nbsp;</a></span>@11</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad47e58bda47893cbfb2a97208e8bd9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47e58bda47893cbfb2a97208e8bd9e7">&sect;&nbsp;</a></span>deref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnir__deref__var.html">nir_deref_var</a>* value::deref</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="nir__opt__copy__prop__vars_8c.html#a16c4b76b93970486e34ca3d60e95e010">copy_prop_vars_block()</a>, <a class="el" href="nir__opt__copy__prop__vars_8c.html#a1f0dddcb1c9496ee60eee7e83cd16a83">load_from_deref_entry_value()</a>, and <a class="el" href="nir__opt__copy__prop__vars_8c.html#aaaf48440c579a5d63694c6ddfd2c06c4">store_to_entry()</a>.</p>

</div>
</div>
<a id="a437d2672e920786b66a79006f409fd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437d2672e920786b66a79006f409fd3f">&sect;&nbsp;</a></span>is_ssa</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool value::is_ssa</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="nir__opt__copy__prop__vars_8c.html#a16c4b76b93970486e34ca3d60e95e010">copy_prop_vars_block()</a>, <a class="el" href="nir__opt__copy__prop__vars_8c.html#add97fd0b742bb8f47dab7249996ab9d6">load_from_ssa_entry_value()</a>, <a class="el" href="nir__opt__copy__prop__vars_8c.html#aaaf48440c579a5d63694c6ddfd2c06c4">store_to_entry()</a>, and <a class="el" href="nir__opt__copy__prop__vars_8c.html#a806f8c32916316fb9223c619e7338a28">try_load_from_entry()</a>.</p>

</div>
</div>
<a id="a401b114bf30ba22f3dd4df3d7edc9761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401b114bf30ba22f3dd4df3d7edc9761">&sect;&nbsp;</a></span>ssa</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnir__ssa__def.html">nir_ssa_def</a>* value::ssa[4]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="nir__opt__copy__prop__vars_8c.html#a16c4b76b93970486e34ca3d60e95e010">copy_prop_vars_block()</a>, <a class="el" href="nir__opt__copy__prop__vars_8c.html#add97fd0b742bb8f47dab7249996ab9d6">load_from_ssa_entry_value()</a>, and <a class="el" href="nir__opt__copy__prop__vars_8c.html#aaaf48440c579a5d63694c6ddfd2c06c4">store_to_entry()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="nir__opt__copy__prop__vars_8c.html">nir_opt_copy_prop_vars.c</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
