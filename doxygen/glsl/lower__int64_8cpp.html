<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f13bc85843fa14191e0ad4a3a157cf60.html">compiler</a></li><li class="navelem"><a class="el" href="dir_4172b1ff1383a72421e897c24b01e6f0.html">glsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lower_int64.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Lower 64-bit operations to 32-bit operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main/macros.h&quot;</code><br />
<code>#include &quot;compiler/glsl_types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ir_8h.html">ir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__rvalue__visitor_8h.html">ir_rvalue_visitor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__builder_8h.html">ir_builder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__optimization_8h.html">ir_optimization.h</a>&quot;</code><br />
<code>#include &quot;util/hash_table.h&quot;</code><br />
<code>#include &quot;<a class="el" href="builtin__functions_8h.html">builtin_functions.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacelower__64bit"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelower__64bit.html">lower_64bit</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a077773d9cfaed46d14070f8d0c4eb1a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lower__int64_8cpp.html#a077773d9cfaed46d14070f8d0c4eb1a8">lowering</a>(x)&#160;&#160;&#160;(this-&gt;lower &amp; x)</td></tr>
<tr class="memdesc:a077773d9cfaed46d14070f8d0c4eb1a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a particular type of lowering should occur.  <a href="#a077773d9cfaed46d14070f8d0c4eb1a8">More...</a><br /></td></tr>
<tr class="separator:a077773d9cfaed46d14070f8d0c4eb1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a65c17f27bcf920d613d9a744a26489ca"><td class="memItemLeft" align="right" valign="top">typedef ir_function_signature *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lower__int64_8cpp.html#a65c17f27bcf920d613d9a744a26489ca">function_generator</a>) (void *mem_ctx, builtin_available_predicate avail)</td></tr>
<tr class="separator:a65c17f27bcf920d613d9a744a26489ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9882fb77c436b5a2f98f09c16de7e0e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelower__64bit.html#a9882fb77c436b5a2f98f09c16de7e0e1">lower_64bit::expand_source</a> (<a class="el" href="classir__builder_1_1ir__factory.html">ir_factory</a> &amp;, ir_rvalue *val, ir_variable **expanded_src)</td></tr>
<tr class="memdesc:a9882fb77c436b5a2f98f09c16de7e0e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand individual 64-bit values to uvec2 values.  <a href="namespacelower__64bit.html#a9882fb77c436b5a2f98f09c16de7e0e1">More...</a><br /></td></tr>
<tr class="separator:a9882fb77c436b5a2f98f09c16de7e0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94051719e5a2263bcb9d95f97d2d37d"><td class="memItemLeft" align="right" valign="top">ir_dereference_variable *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelower__64bit.html#aa94051719e5a2263bcb9d95f97d2d37d">lower_64bit::compact_destination</a> (<a class="el" href="classir__builder_1_1ir__factory.html">ir_factory</a> &amp;, const glsl_type *type, ir_variable *result[4])</td></tr>
<tr class="memdesc:aa94051719e5a2263bcb9d95f97d2d37d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a series of uvec2 results into a single 64-bit integer vector.  <a href="namespacelower__64bit.html#aa94051719e5a2263bcb9d95f97d2d37d">More...</a><br /></td></tr>
<tr class="separator:aa94051719e5a2263bcb9d95f97d2d37d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1218161307ce9cc3ea97b2678af3af75"><td class="memItemLeft" align="right" valign="top">ir_rvalue *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelower__64bit.html#a1218161307ce9cc3ea97b2678af3af75">lower_64bit::lower_op_to_function_call</a> (ir_instruction *base_ir, ir_expression *ir, ir_function_signature *callee)</td></tr>
<tr class="separator:a1218161307ce9cc3ea97b2678af3af75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e6d7fc0409f3ca19584fdd99490cd8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lower__int64_8cpp.html#a00e6d7fc0409f3ca19584fdd99490cd8">is_integer_64</a> (const glsl_type *t)</td></tr>
<tr class="separator:a00e6d7fc0409f3ca19584fdd99490cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aedd624cfe21fa833dd2cfbddbcd027"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lower__int64_8cpp.html#a5aedd624cfe21fa833dd2cfbddbcd027">lower_64bit_integer_instructions</a> (<a class="el" href="structexec__list.html">exec_list</a> *instructions, unsigned what_to_lower)</td></tr>
<tr class="separator:a5aedd624cfe21fa833dd2cfbddbcd027"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Lower 64-bit operations to 32-bit operations. </p>
<p>Each 64-bit value is lowered to a uvec2. For each operation that can be lowered, there is a function called __builtin_foo with the same number of parameters that takes uvec2 sources and produces uvec2 results. An operation like </p><pre class="fragment">uint64_t(x) * uint64_t(y)
</pre><p>becomes </p><pre class="fragment">packUint2x32(__builtin_umul64(unpackUint2x32(x), unpackUint2x32(y)));</pre></div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a077773d9cfaed46d14070f8d0c4eb1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077773d9cfaed46d14070f8d0c4eb1a8">&sect;&nbsp;</a></span>lowering</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lowering</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(this-&gt;lower &amp; x)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a particular type of lowering should occur. </p>

<p>Referenced by <a class="el" href="namespacelower__64bit.html#a1218161307ce9cc3ea97b2678af3af75">lower_64bit::lower_op_to_function_call()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a65c17f27bcf920d613d9a744a26489ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c17f27bcf920d613d9a744a26489ca">&sect;&nbsp;</a></span>function_generator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ir_function_signature*(* function_generator) (void *mem_ctx, builtin_available_predicate avail)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a00e6d7fc0409f3ca19584fdd99490cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e6d7fc0409f3ca19584fdd99490cd8">&sect;&nbsp;</a></span>is_integer_64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_integer_64 </td>
          <td>(</td>
          <td class="paramtype">const glsl_type *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="namespacelower__64bit.html#a1218161307ce9cc3ea97b2678af3af75">lower_64bit::lower_op_to_function_call()</a>.</p>

</div>
</div>
<a id="a5aedd624cfe21fa833dd2cfbddbcd027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aedd624cfe21fa833dd2cfbddbcd027">&sect;&nbsp;</a></span>lower_64bit_integer_instructions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lower_64bit_integer_instructions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structexec__list.html">exec_list</a> *&#160;</td>
          <td class="paramname"><em>instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>what_to_lower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="structexec__list.html#a595312b772d7f73345e2ea3ad747e136">exec_list::head_sentinel</a>, <a class="el" href="structexec__node.html#af7a3599347121bc4d76d133d396d6bd6">exec_node::next</a>, <a class="el" href="structexec__node.html#a159ea5deb89f61d40faff1eb27c61a1c">exec_node::prev</a>, and <a class="el" href="ir__hv__accept_8cpp.html#ae09ad67f6b8034581e991d76bbc7d902">visit_list_elements()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
