<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f13bc85843fa14191e0ad4a3a157cf60.html">compiler</a></li><li class="navelem"><a class="el" href="dir_4172b1ff1383a72421e897c24b01e6f0.html">glsl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ir_set_program_inouts.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Sets the inputs_read and outputs_written of Mesa programs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main/core.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ir_8h.html">ir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ir__visitor_8h.html">ir_visitor.h</a>&quot;</code><br />
<code>#include &quot;compiler/glsl_types.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a154a34402b617ad97f3a9ef6d5f35c14"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#a154a34402b617ad97f3a9ef6d5f35c14">is_shader_inout</a> (ir_variable *var)</td></tr>
<tr class="separator:a154a34402b617ad97f3a9ef6d5f35c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0235c3acf041f2ccac3ac9e7913515af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#a0235c3acf041f2ccac3ac9e7913515af">mark</a> (struct gl_program *prog, ir_variable *var, int offset, int len, gl_shader_stage stage)</td></tr>
<tr class="separator:a0235c3acf041f2ccac3ac9e7913515af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2518563dd443650f22389456f15390e6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#a2518563dd443650f22389456f15390e6">is_multiple_vertices</a> (gl_shader_stage stage, ir_variable *var)</td></tr>
<tr class="separator:a2518563dd443650f22389456f15390e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e9bfaf092f2cf81760ffc9799cd488"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ir__set__program__inouts_8cpp.html#a91e9bfaf092f2cf81760ffc9799cd488">do_set_program_inouts</a> (<a class="el" href="structexec__list.html">exec_list</a> *instructions, struct gl_program *prog, gl_shader_stage shader_stage)</td></tr>
<tr class="separator:a91e9bfaf092f2cf81760ffc9799cd488"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sets the inputs_read and outputs_written of Mesa programs. </p>
<p>Mesa programs (gl_program, not gl_shader_program) have a set of flags indicating which varyings are read and written. Computing which are actually read from some sort of backend code can be tricky when variable array indexing involved. So this pass provides support for setting inputs_read and outputs_written right from the GLSL IR. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a91e9bfaf092f2cf81760ffc9799cd488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e9bfaf092f2cf81760ffc9799cd488">&sect;&nbsp;</a></span>do_set_program_inouts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void do_set_program_inouts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structexec__list.html">exec_list</a> *&#160;</td>
          <td class="paramname"><em>instructions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct gl_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gl_shader_stage&#160;</td>
          <td class="paramname"><em>shader_stage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="ir__hv__accept_8cpp.html#ae09ad67f6b8034581e991d76bbc7d902">visit_list_elements()</a>.</p>

</div>
</div>
<a id="a2518563dd443650f22389456f15390e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2518563dd443650f22389456f15390e6">&sect;&nbsp;</a></span>is_multiple_vertices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_multiple_vertices </td>
          <td>(</td>
          <td class="paramtype">gl_shader_stage&#160;</td>
          <td class="paramname"><em>stage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ir_variable *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="ir__set__program__inouts_8cpp.html#a154a34402b617ad97f3a9ef6d5f35c14">is_shader_inout()</a>, <a class="el" href="ir__hierarchical__visitor_8h.html#abc930fb5ec5ce8ece2a0d53e2f9a3909a54d59cf42b2bf51290d86febf6c3745a">visit_continue</a>, <a class="el" href="ir__hierarchical__visitor_8h.html#abc930fb5ec5ce8ece2a0d53e2f9a3909a073d6f5d8e7ae459a04d500ad060d0af">visit_continue_with_parent</a>, and <a class="el" href="ir__hv__accept_8cpp.html#ae09ad67f6b8034581e991d76bbc7d902">visit_list_elements()</a>.</p>

</div>
</div>
<a id="a154a34402b617ad97f3a9ef6d5f35c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154a34402b617ad97f3a9ef6d5f35c14">&sect;&nbsp;</a></span>is_shader_inout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_shader_inout </td>
          <td>(</td>
          <td class="paramtype">ir_variable *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="ir__set__program__inouts_8cpp.html#a2518563dd443650f22389456f15390e6">is_multiple_vertices()</a>, and <a class="el" href="ir__set__program__inouts_8cpp.html#a0235c3acf041f2ccac3ac9e7913515af">mark()</a>.</p>

</div>
</div>
<a id="a0235c3acf041f2ccac3ac9e7913515af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0235c3acf041f2ccac3ac9e7913515af">&sect;&nbsp;</a></span>mark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mark </td>
          <td>(</td>
          <td class="paramtype">struct gl_program *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ir_variable *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gl_shader_stage&#160;</td>
          <td class="paramname"><em>stage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="ir__set__program__inouts_8cpp.html#a154a34402b617ad97f3a9ef6d5f35c14">is_shader_inout()</a>, and <a class="el" href="ir__hierarchical__visitor_8h.html#abc930fb5ec5ce8ece2a0d53e2f9a3909a54d59cf42b2bf51290d86febf6c3745a">visit_continue</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
