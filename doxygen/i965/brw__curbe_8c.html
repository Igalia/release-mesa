<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_18c0559f0dc03c9de8793d4f4d9250e0.html">drivers</a></li><li class="navelem"><a class="el" href="dir_f9d2f2c49ee9856d84d18416dd980e1f.html">dri</a></li><li class="navelem"><a class="el" href="dir_402a52f95aa7794c8781e5eebb48eed0.html">i965</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">brw_curbe.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Push constant handling for gen4/5.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;compiler/nir/nir.h&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/context__8h.html">main/context.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/macros__8h.html">main/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/enums__8h.html">main/enums.h</a>&quot;</code><br />
<code>#include &quot;program/prog_parameter.h&quot;</code><br />
<code>#include &quot;program/prog_print.h&quot;</code><br />
<code>#include &quot;program/prog_statevars.h&quot;</code><br />
<code>#include &quot;util/bitscan.h&quot;</code><br />
<code>#include &quot;<a class="el" href="intel__batchbuffer_8h.html">intel_batchbuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intel__buffer__objects_8h.html">intel_buffer_objects.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="brw__context_8h.html">brw_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="brw__defines_8h.html">brw_defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="brw__state_8h.html">brw_state.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="brw__util_8h.html">brw_util.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaa870eebefe4c27323b54d8f9a055de9"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#aaa870eebefe4c27323b54d8f9a055de9">calculate_curbe_offsets</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw)</td></tr>
<tr class="memdesc:aaa870eebefe4c27323b54d8f9a055de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partition the CURBE between the various users of constant values.  <a href="#aaa870eebefe4c27323b54d8f9a055de9">More...</a><br /></td></tr>
<tr class="separator:aaa870eebefe4c27323b54d8f9a055de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf34253285020e524b66a158f7486a2f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#acf34253285020e524b66a158f7486a2f">brw_upload_cs_urb_state</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw)</td></tr>
<tr class="memdesc:acf34253285020e524b66a158f7486a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uploads the CS_URB_STATE packet.  <a href="#acf34253285020e524b66a158f7486a2f">More...</a><br /></td></tr>
<tr class="separator:acf34253285020e524b66a158f7486a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685bd9c253cd128c6bd208e72fcde488"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#a685bd9c253cd128c6bd208e72fcde488">brw_upload_constant_buffer</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw)</td></tr>
<tr class="memdesc:a685bd9c253cd128c6bd208e72fcde488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gathers together all the uniform values into a block of memory to be uploaded into the CURBE, then emits the state packet telling the hardware the new location.  <a href="#a685bd9c253cd128c6bd208e72fcde488">More...</a><br /></td></tr>
<tr class="separator:a685bd9c253cd128c6bd208e72fcde488"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a96737f73326737a6c9dff8b6af363e33"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structbrw__tracked__state.html">brw_tracked_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#a96737f73326737a6c9dff8b6af363e33">brw_curbe_offsets</a></td></tr>
<tr class="separator:a96737f73326737a6c9dff8b6af363e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413f11506dea6d64e7e52342a25d93e6"><td class="memItemLeft" align="right" valign="top">static const GLfloat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#a413f11506dea6d64e7e52342a25d93e6">fixed_plane</a> [6][4]</td></tr>
<tr class="separator:a413f11506dea6d64e7e52342a25d93e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f9c602abb898926363598e469704ef"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structbrw__tracked__state.html">brw_tracked_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="brw__curbe_8c.html#a92f9c602abb898926363598e469704ef">brw_constant_buffer</a></td></tr>
<tr class="separator:a92f9c602abb898926363598e469704ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Push constant handling for gen4/5. </p>
<p>Push constants are constant values (such as GLSL uniforms) that are pre-loaded into a shader stage's register space at thread spawn time. On gen4 and gen5, we create a blob in memory containing all the push constants for all the stages in order. At CMD_CONST_BUFFER time that blob is loaded into URB space as a constant URB entry (CURBE) so that it can be accessed quickly at thread setup time. Each individual fixed function unit's state (<a class="el" href="brw__vs__state_8c.html">brw_vs_state.c</a> for example) tells the hardware which subset of the CURBE it wants in its register space, and we calculate those areas here under the BRW_NEW_CURBE_OFFSETS state flag. The <a class="el" href="brw__urb_8c.html" title="Manages the division of the URB space between the various fixed-function units. ">brw_urb.c</a> allocation will control how many CURBEs can be loaded into the hardware at once before a pipeline stall occurs at CMD_CONST_BUFFER time.</p>
<p>On gen6+, constant handling becomes a much simpler set of per-unit state. See gen6_upload_vec4_push_constants() in <a class="el" href="gen6__vs__state_8c.html">gen6_vs_state.c</a> for that code. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a685bd9c253cd128c6bd208e72fcde488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a685bd9c253cd128c6bd208e72fcde488">&sect;&nbsp;</a></span>brw_upload_constant_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> brw_upload_constant_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gathers together all the uniform values into a block of memory to be uploaded into the CURBE, then emits the state packet telling the hardware the new location. </p>

<p>References <a class="el" href="brw__defines_8h.html#a2b0387b0ff5c2239a2067477529616a9">_3DSTATE_GLOBAL_DEPTH_OFFSET_CLAMP</a>, <a class="el" href="intel__batchbuffer_8h.html#a4b8e745696f6e0bdb4a9247a513dc299">ADVANCE_BATCH</a>, <a class="el" href="structbrw__context.html#aa0a0d3b4aa70ee049c7cabb532656fbe">brw_context::base</a>, <a class="el" href="intel__batchbuffer_8h.html#a7d9cc5f4e1a3e4d27c102773652a9e11">BEGIN_BATCH</a>, <a class="el" href="brw__context_8h.html#a2ad37bb4b19dc5688281d9d4583c5f6c">brw_select_clip_planes()</a>, <a class="el" href="structbrw__context.html#a3efadf45b02b40262a0255579793590f">brw_context::clip_size</a>, <a class="el" href="structbrw__context.html#a8a4db6785edd5fc7e556ee588a572fd5">brw_context::clip_start</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__transform__attrib.html#a3613ff083d1b58b858558d4ed23e033a">gl_transform_attrib::ClipPlanesEnabled</a>, <a class="el" href="brw__defines_8h.html#af05b0770cef6905c8167797aba572fd4">CMD_CONST_BUFFER</a>, <a class="el" href="structbrw__context.html#a88c20917f04c226b48929a0e78e30ae2">brw_context::ctx</a>, <a class="el" href="structbrw__context.html#afa8c77bf2f953054cb49152743cb2fb9">brw_context::curbe</a>, <a class="el" href="structbrw__context.html#ad89d3e7891e75e4166328059c0583f18">brw_context::curbe_bo</a>, <a class="el" href="structbrw__context.html#ac017bdf178bd9fd1ad3a864c6e80b6e0">brw_context::curbe_offset</a>, <a class="el" href="brw__curbe_8c.html#a413f11506dea6d64e7e52342a25d93e6">fixed_plane</a>, <a class="el" href="structbrw__context.html#a507377e25c23a96e2495899c698a7211">brw_context::fragment_program</a>, <a class="el" href="structbrw__context.html#a32b1f0a8fdd45fea58ffb65d8f97a1df">brw_context::gen</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__program.html#a8555515e0a66f03de9f44c3009452cb9">gl_program::info</a>, <a class="el" href="intel__buffer__objects_8h.html#a55d61c2b63d3d545c3d71e4f6d14047f">intel_upload_space()</a>, <a class="el" href="structbrw__context.html#a4409c474e573ea7a8c080583e1a3facf">brw_context::is_g4x</a>, <a class="el" href="intel__batchbuffer_8h.html#a17b64616564afb9e0fdbdd423470503d">OUT_BATCH</a>, <a class="el" href="intel__batchbuffer_8h.html#aa89a27f8e2322d67ba4ba3a2a51a5466">OUT_RELOC</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__program.html#aca16898039f1b1387adeb95951497e9e">gl_program::Parameters</a>, <a class="el" href="structbrw__stage__state.html#aabb29e286e12af1162d1eaa844f2fe5c">brw_stage_state::prog_data</a>, <a class="el" href="structbrw__context.html#a6d72c2b2870f03db4ddddb101ff95612">brw_context::total_size</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__context.html#a12d40ee4d766575386d7e25b03dd7db0">gl_context::Transform</a>, <a class="el" href="structbrw__context.html#a14f6b147597e5d304e01f4f1c2bfa3d9">brw_context::vertex_program</a>, <a class="el" href="structbrw__context.html#ae8449c54edd74a450f374a8fd2f81fbd">brw_context::vs</a>, <a class="el" href="structbrw__context.html#a8909b564eb7f32afa6b2479ce0740e36">brw_context::vs_size</a>, <a class="el" href="structbrw__context.html#a6534cd1214f4f4a6eb16962d145ea54c">brw_context::vs_start</a>, <a class="el" href="structbrw__context.html#a271ac39d02ded7b68bf0101339bfd505">brw_context::wm</a>, <a class="el" href="structbrw__context.html#a327b8d0885927ac20a5ac2250ac9fe5c">brw_context::wm_size</a>, and <a class="el" href="structbrw__context.html#a3ddcaf87b548bd0048e501ab5d7da626">brw_context::wm_start</a>.</p>

</div>
</div>
<a id="acf34253285020e524b66a158f7486a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf34253285020e524b66a158f7486a2f">&sect;&nbsp;</a></span>brw_upload_cs_urb_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> brw_upload_cs_urb_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uploads the CS_URB_STATE packet. </p>
<p>Just like <a class="el" href="brw__vs__state_8c.html">brw_vs_state.c</a> and <a class="el" href="brw__wm__state_8c.html">brw_wm_state.c</a> define a URB entry size and number of entries for their stages, constant buffers do so using this state packet. Having multiple CURBEs in the URB at the same time allows the hardware to avoid a pipeline stall between primitives using different constant buffer contents. </p>

<p>References <a class="el" href="intel__batchbuffer_8h.html#a4b8e745696f6e0bdb4a9247a513dc299">ADVANCE_BATCH</a>, <a class="el" href="intel__batchbuffer_8h.html#a7d9cc5f4e1a3e4d27c102773652a9e11">BEGIN_BATCH</a>, <a class="el" href="brw__defines_8h.html#a6c38429ed3b79d51e8661df2496be6d1">CMD_CS_URB_STATE</a>, <a class="el" href="structbrw__context.html#a0e782cc0bfdaffce71ea640c7fe1d4c0">brw_context::csize</a>, <a class="el" href="structbrw__context.html#a91b650d5a170b552b994f72285a59a2f">brw_context::nr_cs_entries</a>, <a class="el" href="intel__batchbuffer_8h.html#a17b64616564afb9e0fdbdd423470503d">OUT_BATCH</a>, and <a class="el" href="structbrw__context.html#ac99519efa3c2460f9c3ee22763fb7cc9">brw_context::urb</a>.</p>

<p>Referenced by <a class="el" href="brw__context_8h.html#ace858f3841a2099149a5dd176aa018d4">key_debug()</a>, and <a class="el" href="brw__misc__state_8c.html#abb519a719425c00e30ddaaa2f0627730">upload_psp_urb_cbs()</a>.</p>

</div>
</div>
<a id="aaa870eebefe4c27323b54d8f9a055de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa870eebefe4c27323b54d8f9a055de9">&sect;&nbsp;</a></span>calculate_curbe_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> calculate_curbe_offsets </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Partition the CURBE between the various users of constant values. </p>
<p>If the users all fit within the previous allocatation, we avoid changing the layout because that means reuploading all unit state and uploading new constant buffers. </p>

<p>References <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/imports_8c.html#adf854cc2a6c2ebdd509c8ca80917bce5">_mesa_bitcount()</a>, <a class="el" href="structbrw__context.html#aa0a0d3b4aa70ee049c7cabb532656fbe">brw_context::base</a>, <a class="el" href="brw__context_8h.html#aee6ee76b00ed2f19a4da7346e07e96c7">BRW_NEW_CURBE_OFFSETS</a>, <a class="el" href="structbrw__context.html#a3efadf45b02b40262a0255579793590f">brw_context::clip_size</a>, <a class="el" href="structbrw__context.html#a8a4db6785edd5fc7e556ee588a572fd5">brw_context::clip_start</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__transform__attrib.html#a3613ff083d1b58b858558d4ed23e033a">gl_transform_attrib::ClipPlanesEnabled</a>, <a class="el" href="structbrw__context.html#a88c20917f04c226b48929a0e78e30ae2">brw_context::ctx</a>, <a class="el" href="structbrw__context.html#afa8c77bf2f953054cb49152743cb2fb9">brw_context::curbe</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__context.html#afcdc987c5895053ecd784a2213462b3e">gl_context::NewDriverState</a>, <a class="el" href="structbrw__stage__state.html#aabb29e286e12af1162d1eaa844f2fe5c">brw_stage_state::prog_data</a>, <a class="el" href="structbrw__context.html#a6d72c2b2870f03db4ddddb101ff95612">brw_context::total_size</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__context.html#a12d40ee4d766575386d7e25b03dd7db0">gl_context::Transform</a>, <a class="el" href="structbrw__context.html#ae8449c54edd74a450f374a8fd2f81fbd">brw_context::vs</a>, <a class="el" href="structbrw__context.html#a8909b564eb7f32afa6b2479ce0740e36">brw_context::vs_size</a>, <a class="el" href="structbrw__context.html#a6534cd1214f4f4a6eb16962d145ea54c">brw_context::vs_start</a>, <a class="el" href="structbrw__context.html#a271ac39d02ded7b68bf0101339bfd505">brw_context::wm</a>, <a class="el" href="structbrw__context.html#a327b8d0885927ac20a5ac2250ac9fe5c">brw_context::wm_size</a>, and <a class="el" href="structbrw__context.html#a3ddcaf87b548bd0048e501ab5d7da626">brw_context::wm_start</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a92f9c602abb898926363598e469704ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f9c602abb898926363598e469704ef">&sect;&nbsp;</a></span>brw_constant_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structbrw__tracked__state.html">brw_tracked_state</a> brw_constant_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .dirty = {</div><div class="line">      .mesa = <a class="codeRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/mtypes_8h.html#ad0a13bba2046ff8dc69648b72376273b">_NEW_PROGRAM_CONSTANTS</a>,</div><div class="line">      .brw  = <a class="code" href="brw__context_8h.html#ab6ebd037637fefed05987eac4941774d">BRW_NEW_BATCH</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a0489a5f5c262b324334a11e500cf7cb0">BRW_NEW_BLORP</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#aee6ee76b00ed2f19a4da7346e07e96c7">BRW_NEW_CURBE_OFFSETS</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a110c81e5b13ed32b91542146faa96caf">BRW_NEW_FRAGMENT_PROGRAM</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#abe58c801f50f8bdaf78e161ed57b9dbc">BRW_NEW_FS_PROG_DATA</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a51a35d56a2687ce929f8e7658202b066">BRW_NEW_PSP</a> | </div><div class="line">              <a class="code" href="brw__context_8h.html#a3bcf310af52a46fa09c8f734ac97985c">BRW_NEW_URB_FENCE</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a86bd37171ece3f987dcbb8286a2e56fe">BRW_NEW_VS_PROG_DATA</a>,</div><div class="line">   },</div><div class="line">   .emit = <a class="code" href="brw__curbe_8c.html#a685bd9c253cd128c6bd208e72fcde488">brw_upload_constant_buffer</a>,</div><div class="line">}</div><div class="ttc" id="brw__context_8h_html_a3bcf310af52a46fa09c8f734ac97985c"><div class="ttname"><a href="brw__context_8h.html#a3bcf310af52a46fa09c8f734ac97985c">BRW_NEW_URB_FENCE</a></div><div class="ttdeci">#define BRW_NEW_URB_FENCE</div><div class="ttdef"><b>Definition:</b> brw_context.h:257</div></div>
<div class="ttc" id="brw__context_8h_html_a86bd37171ece3f987dcbb8286a2e56fe"><div class="ttname"><a href="brw__context_8h.html#a86bd37171ece3f987dcbb8286a2e56fe">BRW_NEW_VS_PROG_DATA</a></div><div class="ttdeci">#define BRW_NEW_VS_PROG_DATA</div><div class="ttdef"><b>Definition:</b> brw_context.h:250</div></div>
<div class="ttc" id="brw__context_8h_html_abe58c801f50f8bdaf78e161ed57b9dbc"><div class="ttname"><a href="brw__context_8h.html#abe58c801f50f8bdaf78e161ed57b9dbc">BRW_NEW_FS_PROG_DATA</a></div><div class="ttdeci">#define BRW_NEW_FS_PROG_DATA</div><div class="ttdoc">BRW_NEW_*_PROG_DATA and BRW_NEW_*_PROGRAM are similar, but distinct. </div><div class="ttdef"><b>Definition:</b> brw_context.h:242</div></div>
<div class="ttc" id="brw__context_8h_html_a51a35d56a2687ce929f8e7658202b066"><div class="ttname"><a href="brw__context_8h.html#a51a35d56a2687ce929f8e7658202b066">BRW_NEW_PSP</a></div><div class="ttdeci">#define BRW_NEW_PSP</div><div class="ttdef"><b>Definition:</b> brw_context.h:267</div></div>
<div class="ttc" id="brw__context_8h_html_a0489a5f5c262b324334a11e500cf7cb0"><div class="ttname"><a href="brw__context_8h.html#a0489a5f5c262b324334a11e500cf7cb0">BRW_NEW_BLORP</a></div><div class="ttdeci">#define BRW_NEW_BLORP</div><div class="ttdef"><b>Definition:</b> brw_context.h:308</div></div>
<div class="ttc" id="brw__curbe_8c_html_a685bd9c253cd128c6bd208e72fcde488"><div class="ttname"><a href="brw__curbe_8c.html#a685bd9c253cd128c6bd208e72fcde488">brw_upload_constant_buffer</a></div><div class="ttdeci">static void brw_upload_constant_buffer(struct brw_context *brw)</div><div class="ttdoc">Gathers together all the uniform values into a block of memory to be uploaded into the CURBE...</div><div class="ttdef"><b>Definition:</b> brw_curbe.c:196</div></div>
<div class="ttc" id="brw__context_8h_html_aee6ee76b00ed2f19a4da7346e07e96c7"><div class="ttname"><a href="brw__context_8h.html#aee6ee76b00ed2f19a4da7346e07e96c7">BRW_NEW_CURBE_OFFSETS</a></div><div class="ttdeci">#define BRW_NEW_CURBE_OFFSETS</div><div class="ttdef"><b>Definition:</b> brw_context.h:262</div></div>
<div class="ttc" id="mtypes_8h_html_ad0a13bba2046ff8dc69648b72376273b"><div class="ttname"><a href="../main/mtypes_8h.html#ad0a13bba2046ff8dc69648b72376273b">_NEW_PROGRAM_CONSTANTS</a></div><div class="ttdeci">#define _NEW_PROGRAM_CONSTANTS</div></div>
<div class="ttc" id="brw__context_8h_html_a110c81e5b13ed32b91542146faa96caf"><div class="ttname"><a href="brw__context_8h.html#a110c81e5b13ed32b91542146faa96caf">BRW_NEW_FRAGMENT_PROGRAM</a></div><div class="ttdeci">#define BRW_NEW_FRAGMENT_PROGRAM</div><div class="ttdef"><b>Definition:</b> brw_context.h:258</div></div>
<div class="ttc" id="brw__context_8h_html_ab6ebd037637fefed05987eac4941774d"><div class="ttname"><a href="brw__context_8h.html#ab6ebd037637fefed05987eac4941774d">BRW_NEW_BATCH</a></div><div class="ttdeci">#define BRW_NEW_BATCH</div><div class="ttdoc">Used for any batch entry with a relocated pointer that will be used by any 3D rendering. </div><div class="ttdef"><b>Definition:</b> brw_context.h:277</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96737f73326737a6c9dff8b6af363e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96737f73326737a6c9dff8b6af363e33">&sect;&nbsp;</a></span>brw_curbe_offsets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structbrw__tracked__state.html">brw_tracked_state</a> brw_curbe_offsets</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .dirty = {</div><div class="line">      .mesa = <a class="codeRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/mtypes_8h.html#aac0e65d91253c52bea30507629cc0a90">_NEW_TRANSFORM</a>,</div><div class="line">      .brw  = <a class="code" href="brw__context_8h.html#af33ee4b472b79994f000fe48e27daf7b">BRW_NEW_CONTEXT</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a0489a5f5c262b324334a11e500cf7cb0">BRW_NEW_BLORP</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#abe58c801f50f8bdaf78e161ed57b9dbc">BRW_NEW_FS_PROG_DATA</a> |</div><div class="line">              <a class="code" href="brw__context_8h.html#a86bd37171ece3f987dcbb8286a2e56fe">BRW_NEW_VS_PROG_DATA</a>,</div><div class="line">   },</div><div class="line">   .emit = <a class="code" href="brw__curbe_8c.html#aaa870eebefe4c27323b54d8f9a055de9">calculate_curbe_offsets</a></div><div class="line">}</div><div class="ttc" id="brw__context_8h_html_a86bd37171ece3f987dcbb8286a2e56fe"><div class="ttname"><a href="brw__context_8h.html#a86bd37171ece3f987dcbb8286a2e56fe">BRW_NEW_VS_PROG_DATA</a></div><div class="ttdeci">#define BRW_NEW_VS_PROG_DATA</div><div class="ttdef"><b>Definition:</b> brw_context.h:250</div></div>
<div class="ttc" id="brw__context_8h_html_abe58c801f50f8bdaf78e161ed57b9dbc"><div class="ttname"><a href="brw__context_8h.html#abe58c801f50f8bdaf78e161ed57b9dbc">BRW_NEW_FS_PROG_DATA</a></div><div class="ttdeci">#define BRW_NEW_FS_PROG_DATA</div><div class="ttdoc">BRW_NEW_*_PROG_DATA and BRW_NEW_*_PROGRAM are similar, but distinct. </div><div class="ttdef"><b>Definition:</b> brw_context.h:242</div></div>
<div class="ttc" id="brw__context_8h_html_af33ee4b472b79994f000fe48e27daf7b"><div class="ttname"><a href="brw__context_8h.html#af33ee4b472b79994f000fe48e27daf7b">BRW_NEW_CONTEXT</a></div><div class="ttdeci">#define BRW_NEW_CONTEXT</div><div class="ttdef"><b>Definition:</b> brw_context.h:266</div></div>
<div class="ttc" id="brw__context_8h_html_a0489a5f5c262b324334a11e500cf7cb0"><div class="ttname"><a href="brw__context_8h.html#a0489a5f5c262b324334a11e500cf7cb0">BRW_NEW_BLORP</a></div><div class="ttdeci">#define BRW_NEW_BLORP</div><div class="ttdef"><b>Definition:</b> brw_context.h:308</div></div>
<div class="ttc" id="brw__curbe_8c_html_aaa870eebefe4c27323b54d8f9a055de9"><div class="ttname"><a href="brw__curbe_8c.html#aaa870eebefe4c27323b54d8f9a055de9">calculate_curbe_offsets</a></div><div class="ttdeci">static void calculate_curbe_offsets(struct brw_context *brw)</div><div class="ttdoc">Partition the CURBE between the various users of constant values. </div><div class="ttdef"><b>Definition:</b> brw_curbe.c:76</div></div>
<div class="ttc" id="mtypes_8h_html_aac0e65d91253c52bea30507629cc0a90"><div class="ttname"><a href="../main/mtypes_8h.html#aac0e65d91253c52bea30507629cc0a90">_NEW_TRANSFORM</a></div><div class="ttdeci">#define _NEW_TRANSFORM</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a413f11506dea6d64e7e52342a25d93e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a413f11506dea6d64e7e52342a25d93e6">&sect;&nbsp;</a></span>fixed_plane</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const GLfloat fixed_plane[6][4]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { 0,    0,   -1, 1 },</div><div class="line">   { 0,    0,    1, 1 },</div><div class="line">   { 0,   -1,    0, 1 },</div><div class="line">   { 0,    1,    0, 1 },</div><div class="line">   {-1,    0,    0, 1 },</div><div class="line">   { 1,    0,    0, 1 }</div><div class="line">}</div></div><!-- fragment -->
<p>Referenced by <a class="el" href="brw__curbe_8c.html#a685bd9c253cd128c6bd208e72fcde488">brw_upload_constant_buffer()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
