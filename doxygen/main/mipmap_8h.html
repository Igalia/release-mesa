<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_db8f13f21ca1473bc26b1a085f9dca79.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mipmap.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mtypes_8h.html">mtypes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7dbc743050e504d3ecd1eaaa2103a898"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mipmap_8h.html#a7dbc743050e504d3ecd1eaaa2103a898">_mesa_generate_mipmap_level</a> (GLenum target, GLenum datatype, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> comps, GLint border, GLint srcWidth, GLint srcHeight, GLint srcDepth, const GLubyte **srcData, GLint srcRowStride, GLint dstWidth, GLint dstHeight, GLint dstDepth, GLubyte **dstData, GLint dstRowStride)</td></tr>
<tr class="memdesc:a7dbc743050e504d3ecd1eaaa2103a898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Down-sample a texture image to produce the next lower mipmap level.  <a href="#a7dbc743050e504d3ecd1eaaa2103a898">More...</a><br /></td></tr>
<tr class="separator:a7dbc743050e504d3ecd1eaaa2103a898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61976fc99863a2e0897b18a000555c95"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mipmap_8h.html#a61976fc99863a2e0897b18a000555c95">_mesa_prepare_mipmap_levels</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, struct <a class="el" href="structgl__texture__object.html">gl_texture_object</a> *texObj, unsigned baseLevel, unsigned maxLevel)</td></tr>
<tr class="memdesc:a61976fc99863a2e0897b18a000555c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare all mipmap levels beyond 'baseLevel' for mipmap generation.  <a href="#a61976fc99863a2e0897b18a000555c95">More...</a><br /></td></tr>
<tr class="separator:a61976fc99863a2e0897b18a000555c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07e9210edfd45ff6a1dec3063e6aff5"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mipmap_8h.html#aa07e9210edfd45ff6a1dec3063e6aff5">_mesa_generate_mipmap</a> (struct <a class="el" href="structgl__context.html">gl_context</a> *ctx, GLenum target, struct <a class="el" href="structgl__texture__object.html">gl_texture_object</a> *texObj)</td></tr>
<tr class="memdesc:aa07e9210edfd45ff6a1dec3063e6aff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatic mipmap generation.  <a href="#aa07e9210edfd45ff6a1dec3063e6aff5">More...</a><br /></td></tr>
<tr class="separator:aa07e9210edfd45ff6a1dec3063e6aff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d38a538266987edec3f0325c3fb108"><td class="memItemLeft" align="right" valign="top">GLboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mipmap_8h.html#a82d38a538266987edec3f0325c3fb108">_mesa_next_mipmap_level_size</a> (GLenum target, GLint border, GLint srcWidth, GLint srcHeight, GLint srcDepth, GLint *dstWidth, GLint *dstHeight, GLint *dstDepth)</td></tr>
<tr class="memdesc:a82d38a538266987edec3f0325c3fb108"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute next (level+1) image size  <a href="#a82d38a538266987edec3f0325c3fb108">More...</a><br /></td></tr>
<tr class="separator:a82d38a538266987edec3f0325c3fb108"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa07e9210edfd45ff6a1dec3063e6aff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa07e9210edfd45ff6a1dec3063e6aff5">&sect;&nbsp;</a></span>_mesa_generate_mipmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_generate_mipmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgl__texture__object.html">gl_texture_object</a> *&#160;</td>
          <td class="paramname"><em>texObj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Automatic mipmap generation. </p>
<p>This is the fallback/default function for ctx-&gt;Driver.GenerateMipmap(). Generate a complete set of mipmaps from texObj's BaseLevel image. Stop at texObj's MaxLevel or when we get to the 1x1 texture. For cube maps, target will be one of GL_TEXTURE_CUBE_MAP_POSITIVE/NEGATIVE_X/Y/Z; never GL_TEXTURE_CUBE_MAP. </p>

<p>References <a class="el" href="formats_8c.html#a11e3f3f26012e241d60e32f3c6b94fec">_mesa_is_format_compressed()</a>, <a class="el" href="teximage_8c.html#a9b89c04c762aecfdbaa5fca4480119ea">_mesa_max_texture_levels()</a>, <a class="el" href="mipmap_8c.html#a61976fc99863a2e0897b18a000555c95">_mesa_prepare_mipmap_levels()</a>, <a class="el" href="teximage_8c.html#afcc7ec1797b3cb84cd482b906af9bcff">_mesa_select_tex_image()</a>, <a class="el" href="structgl__texture__object.html#a69a0a5ac318673294a282449e2f4b02a">gl_texture_object::BaseLevel</a>, <a class="el" href="mipmap_8c.html#afb448ec3b6af96cc5558f941c1f4f82c">generate_mipmap_compressed()</a>, <a class="el" href="mipmap_8c.html#a295ae66f46f89f41f2dbcea3ea9ddd8b">generate_mipmap_uncompressed()</a>, <a class="el" href="structgl__texture__object.html#a1d502eafcd683d735456c0ff4c653bbd">gl_texture_object::MaxLevel</a>, <a class="el" href="structgl__texture__object.html#ad318d8ec752261c1ccb25ce020c74ad9">gl_texture_object::Target</a>, and <a class="el" href="structgl__texture__image.html#afeb3468c64204ccb12340845b0eec096">gl_texture_image::TexFormat</a>.</p>

</div>
</div>
<a id="a7dbc743050e504d3ecd1eaaa2103a898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dbc743050e504d3ecd1eaaa2103a898">&sect;&nbsp;</a></span>_mesa_generate_mipmap_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_generate_mipmap_level </td>
          <td>(</td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>datatype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>comps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>border</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GLubyte **&#160;</td>
          <td class="paramname"><em>srcData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcRowStride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>dstWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>dstHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>dstDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLubyte **&#160;</td>
          <td class="paramname"><em>dstData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>dstRowStride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Down-sample a texture image to produce the next lower mipmap level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comps</td><td>components per texel (1, 2, 3 or 4) </td></tr>
    <tr><td class="paramname">srcData</td><td>array[slice] of pointers to source image slices </td></tr>
    <tr><td class="paramname">dstData</td><td>array[slice] of pointers to dest image slices </td></tr>
    <tr><td class="paramname">srcRowStride</td><td>stride between source rows, in bytes </td></tr>
    <tr><td class="paramname">dstRowStride</td><td>stride between destination rows, in bytes </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="errors_8c.html#ac1c2de47e4a8c905e1b94ca3191f38c0">_mesa_problem()</a>, <a class="el" href="glheader_8h.html#adb7e71e2c7c36c9788223afed8c27d61">GL_TEXTURE_EXTERNAL_OES</a>, <a class="el" href="mipmap_8c.html#a56c63317b9e5abe7b2d3985ef4222cf0">make_1d_mipmap()</a>, <a class="el" href="mipmap_8c.html#aae581c5ecebe481cf280765abaf2381b">make_2d_mipmap()</a>, and <a class="el" href="mipmap_8c.html#aa5ab92865c92fd9a9c16685c6432885b">make_3d_mipmap()</a>.</p>

<p>Referenced by <a class="el" href="mipmap_8c.html#afb448ec3b6af96cc5558f941c1f4f82c">generate_mipmap_compressed()</a>, and <a class="el" href="mipmap_8c.html#a295ae66f46f89f41f2dbcea3ea9ddd8b">generate_mipmap_uncompressed()</a>.</p>

</div>
</div>
<a id="a82d38a538266987edec3f0325c3fb108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d38a538266987edec3f0325c3fb108">&sect;&nbsp;</a></span>_mesa_next_mipmap_level_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLboolean _mesa_next_mipmap_level_size </td>
          <td>(</td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>border</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint&#160;</td>
          <td class="paramname"><em>srcDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint *&#160;</td>
          <td class="paramname"><em>dstWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint *&#160;</td>
          <td class="paramname"><em>dstHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLint *&#160;</td>
          <td class="paramname"><em>dstDepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>compute next (level+1) image size </p>
<dl class="section return"><dt>Returns</dt><dd>GL_FALSE if no smaller size can be generated (eg. src is 1x1x1 size) </dd></dl>

<p>Referenced by <a class="el" href="mipmap_8h.html#a61976fc99863a2e0897b18a000555c95">_mesa_prepare_mipmap_levels()</a>, <a class="el" href="teximage_8h.html#ad265f10feb815daca4a1bf75e3068c01">_mesa_test_proxy_teximage()</a>, and <a class="el" href="texstorage_8c.html#a4a9bde42cb514bdf840064e25171b8cb">initialize_texture_fields()</a>.</p>

</div>
</div>
<a id="a61976fc99863a2e0897b18a000555c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61976fc99863a2e0897b18a000555c95">&sect;&nbsp;</a></span>_mesa_prepare_mipmap_levels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> _mesa_prepare_mipmap_levels </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgl__context.html">gl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structgl__texture__object.html">gl_texture_object</a> *&#160;</td>
          <td class="paramname"><em>texObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>baseLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>maxLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare all mipmap levels beyond 'baseLevel' for mipmap generation. </p>
<p>When finished, all the <a class="el" href="structgl__texture__image.html" title="Texture image state. ">gl_texture_image</a> structures for the smaller mipmap levels will be consistent with the base level (in terms of dimensions, format, etc). </p>

<p>References <a class="el" href="mipmap_8c.html#a82d38a538266987edec3f0325c3fb108">_mesa_next_mipmap_level_size()</a>, <a class="el" href="teximage_8c.html#afcc7ec1797b3cb84cd482b906af9bcff">_mesa_select_tex_image()</a>, <a class="el" href="structgl__texture__image.html#a2bc8422726a784b5c101295edee63f05">gl_texture_image::Depth</a>, <a class="el" href="structgl__texture__image.html#ad0cd46eed7e3fe51d59bb649e5037dae">gl_texture_image::Height</a>, <a class="el" href="structgl__texture__image.html#a751bb5023f9e5d258251482e8688552c">gl_texture_image::InternalFormat</a>, <a class="el" href="mipmap_8c.html#a47d00a79df1cc30006ff0d1dd8a61205">prepare_mipmap_level()</a>, <a class="el" href="structgl__texture__object.html#ad318d8ec752261c1ccb25ce020c74ad9">gl_texture_object::Target</a>, <a class="el" href="structgl__texture__image.html#afeb3468c64204ccb12340845b0eec096">gl_texture_image::TexFormat</a>, and <a class="el" href="structgl__texture__image.html#a4beaa43b2d0ae457e9a1f56356946f1d">gl_texture_image::Width</a>.</p>

<p>Referenced by <a class="el" href="mipmap_8h.html#aa07e9210edfd45ff6a1dec3063e6aff5">_mesa_generate_mipmap()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
