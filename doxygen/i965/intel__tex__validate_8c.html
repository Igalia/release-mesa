<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_18c0559f0dc03c9de8793d4f4d9250e0.html">drivers</a></li><li class="navelem"><a class="el" href="dir_f9d2f2c49ee9856d84d18416dd980e1f.html">dri</a></li><li class="navelem"><a class="el" href="dir_402a52f95aa7794c8781e5eebb48eed0.html">i965</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">intel_tex_validate.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/mtypes__8h.html">main/mtypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/macros__8h.html">main/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/samplerobj__8h.html">main/samplerobj.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/teximage__8h.html">main/teximage.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/texobj__8h.html">main/texobj.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="brw__context_8h.html">brw_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intel__mipmap__tree_8h.html">intel_mipmap_tree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intel__blit_8h.html">intel_blit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="intel__tex_8h.html">intel_tex.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aacb741169119c304fe9597e7a1bc5548"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__tex__validate_8c.html#aacb741169119c304fe9597e7a1bc5548">FILE_DEBUG_FLAG</a>&#160;&#160;&#160;DEBUG_TEXTURE</td></tr>
<tr class="separator:aacb741169119c304fe9597e7a1bc5548"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0965fc3bb6f45e01d8727827a05a74b1"><td class="memItemLeft" align="right" valign="top">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__tex__validate_8c.html#a0965fc3bb6f45e01d8727827a05a74b1">intel_update_max_level</a> (struct <a class="el" href="structintel__texture__object.html">intel_texture_object</a> *intelObj, struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__sampler__object.html">gl_sampler_object</a> *sampler)</td></tr>
<tr class="memdesc:a0965fc3bb6f45e01d8727827a05a74b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets our driver-specific variant of tObj-&gt;_MaxLevel for later surface state upload.  <a href="#a0965fc3bb6f45e01d8727827a05a74b1">More...</a><br /></td></tr>
<tr class="separator:a0965fc3bb6f45e01d8727827a05a74b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232dbc4dee0c2bb5a8369301416a5789"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__tex__validate_8c.html#a232dbc4dee0c2bb5a8369301416a5789">intel_finalize_mipmap_tree</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a> unit)</td></tr>
<tr class="memdesc:a232dbc4dee0c2bb5a8369301416a5789"><td class="mdescLeft">&#160;</td><td class="mdescRight">At rendering-from-a-texture time, make sure that the texture object has a miptree that can hold the entire texture based on BaseLevel/MaxLevel/filtering, and copy in any texture images that are stored in other miptrees.  <a href="#a232dbc4dee0c2bb5a8369301416a5789">More...</a><br /></td></tr>
<tr class="separator:a232dbc4dee0c2bb5a8369301416a5789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d6af662e7bbbf009db483b2ab83a95"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__tex__validate_8c.html#a25d6af662e7bbbf009db483b2ab83a95">brw_validate_textures</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw)</td></tr>
<tr class="memdesc:a25d6af662e7bbbf009db483b2ab83a95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes all textures, completing any rendering that needs to be done to prepare them.  <a href="#a25d6af662e7bbbf009db483b2ab83a95">More...</a><br /></td></tr>
<tr class="separator:a25d6af662e7bbbf009db483b2ab83a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aacb741169119c304fe9597e7a1bc5548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb741169119c304fe9597e7a1bc5548">&sect;&nbsp;</a></span>FILE_DEBUG_FLAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILE_DEBUG_FLAG&#160;&#160;&#160;DEBUG_TEXTURE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a25d6af662e7bbbf009db483b2ab83a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d6af662e7bbbf009db483b2ab83a95">&sect;&nbsp;</a></span>brw_validate_textures()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> brw_validate_textures </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes all textures, completing any rendering that needs to be done to prepare them. </p>

<p>References <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__unit.html#a80d6bb086b878507d40ec6c815f78ac4">gl_texture_unit::_Current</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__attrib.html#a642ce28afe5c3c776ef757b91a71360e">gl_texture_attrib::_MaxEnabledTexImageUnit</a>, <a class="el" href="structbrw__context.html#a88c20917f04c226b48929a0e78e30ae2">brw_context::ctx</a>, <a class="el" href="intel__tex__validate_8c.html#a232dbc4dee0c2bb5a8369301416a5789">intel_finalize_mipmap_tree()</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__context.html#aa3788eb53856dc78776e2ac6fb471804">gl_context::Texture</a>, and <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__attrib.html#af77cc2c27543df70a9d5cad8baa4fff4">gl_texture_attrib::Unit</a>.</p>

<p>Referenced by <a class="el" href="brw__compute_8c.html#a90032d9569b31370ed48480af998ed34">brw_dispatch_compute_common()</a>, and <a class="el" href="brw__draw_8c.html#a91b102703d560438e552126163cf4748">brw_try_draw_prims()</a>.</p>

</div>
</div>
<a id="a232dbc4dee0c2bb5a8369301416a5789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232dbc4dee0c2bb5a8369301416a5789">&sect;&nbsp;</a></span>intel_finalize_mipmap_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> intel_finalize_mipmap_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>&#160;</td>
          <td class="paramname"><em>unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>At rendering-from-a-texture time, make sure that the texture object has a miptree that can hold the entire texture based on BaseLevel/MaxLevel/filtering, and copy in any texture images that are stored in other miptrees. </p>

<p>References <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#a3f5fdb2f25354d4d6cdf5f8accfd27b6">gl_texture_object::_BaseComplete</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__unit.html#a80d6bb086b878507d40ec6c815f78ac4">gl_texture_unit::_Current</a>, <a class="el" href="structintel__texture__object.html#a4ae5eb598949363e8e3f5a3ec14001cb">intel_texture_object::_Format</a>, <a class="el" href="structintel__texture__object.html#a875d84f83b9dd881402fc34a40a3d0ff">intel_texture_object::_MaxLevel</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/formats_8c.html#afae7cc0c52fa2824a49164ebffcd98b5">_mesa_get_format_name()</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/structswrast__texture__image.html#a1c6fa112049bb682bf47888587040905">swrast_texture_image::Base</a>, <a class="el" href="structintel__texture__image.html#ae1c3878480eae7147efd6946b886de0b">intel_texture_image::base</a>, <a class="el" href="structintel__texture__object.html#a25153ca65e9c68de34896b0c7857ee7c">intel_texture_object::base</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#a69a0a5ac318673294a282449e2f4b02a">gl_texture_object::BaseLevel</a>, <a class="el" href="structbrw__context.html#a88c20917f04c226b48929a0e78e30ae2">brw_context::ctx</a>, <a class="el" href="structbrw__context.html#a32b1f0a8fdd45fea58ffb65d8f97a1df">brw_context::gen</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/swrast.tag:../swrast/" href="../swrast/s__texfetch__tmp_8h.html#a087030f771e19c7145d9de2db60d773b">GLuint</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#ad63857c05f285d1d6b19b6dbe660f892">gl_texture_object::Image</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#afb2245acefd356aff0d9951bbbcc3b57">gl_texture_object::Immutable</a>, <a class="el" href="intel__mipmap__tree_8c.html#ac4411b1e70742d75ba8fe186b2804830">intel_get_image_dims()</a>, <a class="el" href="intel__mipmap__tree_8c.html#a1fd0de47170516784fb3a2629a2c8b24">intel_miptree_copy_teximage()</a>, <a class="el" href="intel__mipmap__tree_8c.html#a978e12b500b3ad903bd61030bef6661b">intel_miptree_create()</a>, <a class="el" href="intel__mipmap__tree_8c.html#a83ddf2cba56d1fec10a7c621295e9371">intel_miptree_match_image()</a>, <a class="el" href="intel__mipmap__tree_8c.html#a02cc894536e07a7685e6cf146da05627">intel_miptree_release()</a>, <a class="el" href="intel__tex__obj_8h.html#a229683d508e8299068709eaf7e82bb09">intel_texture_image()</a>, <a class="el" href="intel__tex__obj_8h.html#a6710ea8ea81f61bbe7506cfcff2070e0">intel_texture_object()</a>, <a class="el" href="intel__tex__validate_8c.html#a0965fc3bb6f45e01d8727827a05a74b1">intel_update_max_level()</a>, <a class="el" href="structintel__texture__object.html#ac0f21da1f7725f2d08055a043cbe3a62">intel_texture_object::mt</a>, <a class="el" href="structintel__texture__image.html#a9899b704cef47a67875fe2263697bb77">intel_texture_image::mt</a>, <a class="el" href="structintel__texture__object.html#a16106dca5c0b1794e3b871484f291a40">intel_texture_object::needs_validate</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#ad318d8ec752261c1ccb25ce020c74ad9">gl_texture_object::Target</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__image.html#afeb3468c64204ccb12340845b0eec096">gl_texture_image::TexFormat</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__context.html#aa3788eb53856dc78776e2ac6fb471804">gl_context::Texture</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__attrib.html#af77cc2c27543df70a9d5cad8baa4fff4">gl_texture_attrib::Unit</a>, <a class="el" href="structintel__texture__object.html#a81b9fb3dc82ed196645cf2408164ca3e">intel_texture_object::validated_first_level</a>, and <a class="el" href="structintel__texture__object.html#a367c30d8263e857a08b1274cc652755c">intel_texture_object::validated_last_level</a>.</p>

<p>Referenced by <a class="el" href="intel__tex__validate_8c.html#a25d6af662e7bbbf009db483b2ab83a95">brw_validate_textures()</a>.</p>

</div>
</div>
<a id="a0965fc3bb6f45e01d8727827a05a74b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0965fc3bb6f45e01d8727827a05a74b1">&sect;&nbsp;</a></span>intel_update_max_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> intel_update_max_level </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structintel__texture__object.html">intel_texture_object</a> *&#160;</td>
          <td class="paramname"><em>intelObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__sampler__object.html">gl_sampler_object</a> *&#160;</td>
          <td class="paramname"><em>sampler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets our driver-specific variant of tObj-&gt;_MaxLevel for later surface state upload. </p>
<p>If we're only ensuring that there is storage for the first miplevel of a texture, then in texture setup we're going to have to make sure we don't allow sampling beyond level 0. </p>

<p>References <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#aaf01f491682aac2db3dc1417ddfa527c">gl_texture_object::_MaxLevel</a>, <a class="el" href="structintel__texture__object.html#a875d84f83b9dd881402fc34a40a3d0ff">intel_texture_object::_MaxLevel</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#a95a857220fcc2103896a4bb1d14815b3">gl_texture_object::_MipmapComplete</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#adc262468919b93c2953e5dcdbbfa5425">gl_texture_object::_RenderToTexture</a>, <a class="el" href="structintel__texture__object.html#a25153ca65e9c68de34896b0c7857ee7c">intel_texture_object::base</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__texture__object.html#a69a0a5ac318673294a282449e2f4b02a">gl_texture_object::BaseLevel</a>, and <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__sampler__object.html#a3c84fc28aeef723fbfc0913512d0b625">gl_sampler_object::MinFilter</a>.</p>

<p>Referenced by <a class="el" href="intel__tex__validate_8c.html#a232dbc4dee0c2bb5a8369301416a5789">intel_finalize_mipmap_tree()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
