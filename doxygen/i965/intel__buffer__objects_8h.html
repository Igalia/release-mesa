<html>
<head>
<title>Mesa Source Code Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="qindex">
<a class="qindex" href="../main/index.html">core</a> |
<a class="qindex" href="../glapi/index.html">glapi</a> |
<a class="qindex" href="../glsl/index.html">glsl</a> |
<a class="qindex" href="../nir/index.html">nir</a> |
<a class="qindex" href="../vbo/index.html">vbo</a> |
<a class="qindex" href="../math/index.html">math</a> |
<a class="qindex" href="../swrast/index.html">swrast</a> |
<a class="qindex" href="../swrast_setup/index.html">swrast_setup</a> |
<a class="qindex" href="../tnl/index.html">tnl</a> |
<a class="qindex" href="../tnl_dd/index.html">tnl_dd</a> |
<a class="qindex" href="../gbm/index.html">gbm</a> |
<a class="qindex" href="../i965/index.html">i965</a>
</div>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9172db528ee902c60f00bbddd6d6be2b.html">mesa</a></li><li class="navelem"><a class="el" href="dir_18c0559f0dc03c9de8793d4f4d9250e0.html">drivers</a></li><li class="navelem"><a class="el" href="dir_f9d2f2c49ee9856d84d18416dd980e1f.html">dri</a></li><li class="navelem"><a class="el" href="dir_402a52f95aa7794c8781e5eebb48eed0.html">i965</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">intel_buffer_objects.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/mtypes__8h.html">main/mtypes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structintel__buffer__object.html">intel_buffer_object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intel vertex/pixel buffer object, derived from Mesa's <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__buffer__object.html">gl_buffer_object</a>.  <a href="structintel__buffer__object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80b7cbb35bf817ea906397065d594e80"><td class="memItemLeft" align="right" valign="top">drm_intel_bo *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a80b7cbb35bf817ea906397065d594e80">intel_bufferobj_buffer</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw, struct <a class="el" href="structintel__buffer__object.html">intel_buffer_object</a> *obj, uint32_t offset, uint32_t size)</td></tr>
<tr class="memdesc:a80b7cbb35bf817ea906397065d594e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the object's BO, and marks the given range as being used on the GPU.  <a href="#a80b7cbb35bf817ea906397065d594e80">More...</a><br /></td></tr>
<tr class="separator:a80b7cbb35bf817ea906397065d594e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c838329bcfaa1f2d81d8736bb053ce"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a46c838329bcfaa1f2d81d8736bb053ce">intel_upload_data</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw, const <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *data, uint32_t size, uint32_t alignment, drm_intel_bo **out_bo, uint32_t *out_offset)</td></tr>
<tr class="memdesc:a46c838329bcfaa1f2d81d8736bb053ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handy interface to upload some data to temporary GPU memory quickly.  <a href="#a46c838329bcfaa1f2d81d8736bb053ce">More...</a><br /></td></tr>
<tr class="separator:a46c838329bcfaa1f2d81d8736bb053ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d61c2b63d3d545c3d71e4f6d14047f"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a55d61c2b63d3d545c3d71e4f6d14047f">intel_upload_space</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw, uint32_t size, uint32_t alignment, drm_intel_bo **out_bo, uint32_t *out_offset)</td></tr>
<tr class="memdesc:a55d61c2b63d3d545c3d71e4f6d14047f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface for getting memory for uploading streamed data to the GPU.  <a href="#a55d61c2b63d3d545c3d71e4f6d14047f">More...</a><br /></td></tr>
<tr class="separator:a55d61c2b63d3d545c3d71e4f6d14047f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e559da6492e3483ff699579efb4ff36"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a0e559da6492e3483ff699579efb4ff36">intel_upload_finish</a> (struct <a class="el" href="structbrw__context.html">brw_context</a> *brw)</td></tr>
<tr class="separator:a0e559da6492e3483ff699579efb4ff36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184b696df9ccb8a19e543289fb423053"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a184b696df9ccb8a19e543289fb423053">intelInitBufferObjectFuncs</a> (struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html">dd_function_table</a> *functions)</td></tr>
<tr class="separator:a184b696df9ccb8a19e543289fb423053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917f0e2988805d333447a91a5c05b4e5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structintel__buffer__object.html">intel_buffer_object</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="intel__buffer__objects_8h.html#a917f0e2988805d333447a91a5c05b4e5">intel_buffer_object</a> (struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__buffer__object.html">gl_buffer_object</a> *obj)</td></tr>
<tr class="separator:a917f0e2988805d333447a91a5c05b4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a917f0e2988805d333447a91a5c05b4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917f0e2988805d333447a91a5c05b4e5">&sect;&nbsp;</a></span>intel_buffer_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structintel__buffer__object.html">intel_buffer_object</a>* <a class="el" href="structintel__buffer__object.html">intel_buffer_object</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structgl__buffer__object.html">gl_buffer_object</a> *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="intel__buffer__objects_8c.html#a8c048281a56194c6d86a4fec5d5648c6">brw_buffer_data()</a>, <a class="el" href="intel__buffer__objects_8c.html#ae97d37201668b96c4883f4dfd2f02f03">brw_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a3a15ac7dc64f555f2570c533620c722d">brw_copy_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a7081b5a0ef398013d965d5616f6a869d">brw_delete_buffer()</a>, <a class="el" href="brw__compute_8c.html#a9a8c4ce368af17d587ebd6964c9ddf94">brw_dispatch_compute_indirect()</a>, <a class="el" href="brw__draw_8c.html#aacdb250b14177c4eba711aa568204873">brw_emit_prim()</a>, <a class="el" href="intel__buffer__objects_8c.html#a564f3e3b71fa32734a8d8d9d3583a4a5">brw_flush_mapped_buffer_range()</a>, <a class="el" href="intel__buffer__objects_8c.html#a5ccb41c7e944b0b0a10d0c39d3de6890">brw_get_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a801b41b5f4b93399367c86b496b18c12">brw_map_buffer_range()</a>, <a class="el" href="brw__draw__upload_8c.html#a92d84da1de9a1eddfd3e6e97a2b60ccf">brw_prepare_vertices()</a>, <a class="el" href="brw__draw_8c.html#a91b102703d560438e552126163cf4748">brw_try_draw_prims()</a>, <a class="el" href="intel__buffer__objects_8c.html#ac81e0296a6228d2fbd5092c060738099">brw_unmap_buffer()</a>, <a class="el" href="brw__wm__surface__state_8c.html#a0a4730a02dff893ec2d4b7e42c068bbf">brw_update_buffer_texture_surface()</a>, <a class="el" href="brw__wm__surface__state_8c.html#acaff80d417549cb3f41b9df63b201388">brw_update_sol_surface()</a>, <a class="el" href="brw__wm__surface__state_8c.html#aabda1bf227581ecb0b25d04e6b2f4c12">brw_upload_abo_surfaces()</a>, <a class="el" href="brw__draw__upload_8c.html#a49e9f6d6ef8ba7575cfe860bc83b8e82">brw_upload_indices()</a>, <a class="el" href="brw__wm__surface__state_8c.html#a092d9baf790817ce2015d8a5e69f4f72">brw_upload_ubo_surfaces()</a>, <a class="el" href="intel__pixel__draw_8c.html#aea2cbeed16c644ad748f5cf8b0ea7326">do_blit_drawpixels()</a>, <a class="el" href="gen8__sol__state_8c.html#a8e154deb3c39549280c840eee68d25a1">gen8_upload_3dstate_so_buffers()</a>, <a class="el" href="hsw__queryobj_8c.html#a0d6854b726f8f8837baccefc3846644b">hsw_store_query_result()</a>, <a class="el" href="brw__object__purgeable_8c.html#a44136fe498e945bee11b8e4fcc8e2814">intel_buffer_object_purgeable()</a>, <a class="el" href="brw__object__purgeable_8c.html#acebdbab2645fce7d8550a13caa86e1a3">intel_buffer_object_unpurgeable()</a>, <a class="el" href="intel__tex_8c.html#aa6657cea93a8b8bc53c4ca0a97ba335c">intel_set_texture_storage_for_buffer_object()</a>, <a class="el" href="brw__wm__surface__state_8c.html#a392489bef3d52dbb5b753f058d8df1eb">update_image_surface()</a>, and <a class="el" href="gen7__sol__state_8c.html#ae6f578f6be3f118aaf6f2e009d2f1684">upload_3dstate_so_buffers()</a>.</p>

</div>
</div>
<a id="a80b7cbb35bf817ea906397065d594e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b7cbb35bf817ea906397065d594e80">&sect;&nbsp;</a></span>intel_bufferobj_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">drm_intel_bo* intel_bufferobj_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structintel__buffer__object.html">intel_buffer_object</a> *&#160;</td>
          <td class="paramname"><em>intel_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a pointer to the object's BO, and marks the given range as being used on the GPU. </p>
<p>Anywhere that uses buffer objects in the pipeline should be using this to mark the range of the buffer that is being accessed by the pipeline. </p>

<p>References <a class="el" href="intel__buffer__objects_8c.html#adc1cbfbc710c328d7a24d2949295a610">alloc_buffer_object()</a>, <a class="el" href="structintel__buffer__object.html#acc717ea69f5e8b92a2b3040dc7ae1d48">intel_buffer_object::buffer</a>, and <a class="el" href="intel__buffer__objects_8c.html#afb436c05f05934ebea11c8cc5d5a61d3">mark_buffer_gpu_usage()</a>.</p>

<p>Referenced by <a class="el" href="intel__buffer__objects_8c.html#a3a15ac7dc64f555f2570c533620c722d">brw_copy_buffer_subdata()</a>, <a class="el" href="brw__compute_8c.html#a9a8c4ce368af17d587ebd6964c9ddf94">brw_dispatch_compute_indirect()</a>, <a class="el" href="brw__draw_8c.html#aacdb250b14177c4eba711aa568204873">brw_emit_prim()</a>, <a class="el" href="brw__draw__upload_8c.html#a92d84da1de9a1eddfd3e6e97a2b60ccf">brw_prepare_vertices()</a>, <a class="el" href="brw__wm__surface__state_8c.html#a0a4730a02dff893ec2d4b7e42c068bbf">brw_update_buffer_texture_surface()</a>, <a class="el" href="brw__wm__surface__state_8c.html#acaff80d417549cb3f41b9df63b201388">brw_update_sol_surface()</a>, <a class="el" href="brw__wm__surface__state_8c.html#aabda1bf227581ecb0b25d04e6b2f4c12">brw_upload_abo_surfaces()</a>, <a class="el" href="brw__draw__upload_8c.html#a49e9f6d6ef8ba7575cfe860bc83b8e82">brw_upload_indices()</a>, <a class="el" href="brw__wm__surface__state_8c.html#a092d9baf790817ce2015d8a5e69f4f72">brw_upload_ubo_surfaces()</a>, <a class="el" href="intel__pixel__draw_8c.html#aea2cbeed16c644ad748f5cf8b0ea7326">do_blit_drawpixels()</a>, <a class="el" href="gen8__sol__state_8c.html#a8e154deb3c39549280c840eee68d25a1">gen8_upload_3dstate_so_buffers()</a>, <a class="el" href="intel__tex_8c.html#aa6657cea93a8b8bc53c4ca0a97ba335c">intel_set_texture_storage_for_buffer_object()</a>, and <a class="el" href="gen7__sol__state_8c.html#ae6f578f6be3f118aaf6f2e009d2f1684">upload_3dstate_so_buffers()</a>.</p>

</div>
</div>
<a id="a46c838329bcfaa1f2d81d8736bb053ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46c838329bcfaa1f2d81d8736bb053ce">&sect;&nbsp;</a></span>intel_upload_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> intel_upload_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">drm_intel_bo **&#160;</td>
          <td class="paramname"><em>out_bo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>out_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handy interface to upload some data to temporary GPU memory quickly. </p>
<p>References to this memory should not be retained across batch flushes. </p>

<p>References <a class="el" href="intel__upload_8c.html#a55d61c2b63d3d545c3d71e4f6d14047f">intel_upload_space()</a>.</p>

<p>Referenced by <a class="el" href="brw__draw__upload_8c.html#a110a1b1128d1df3d354ac4f7ffbd8e7e">brw_prepare_shader_draw_parameters()</a>, <a class="el" href="brw__wm__surface__state_8c.html#abbf73ccd764e7bf1ea7bb491d3ae15be">brw_upload_cs_work_groups_surface()</a>, <a class="el" href="brw__draw__upload_8c.html#a49e9f6d6ef8ba7575cfe860bc83b8e82">brw_upload_indices()</a>, and <a class="el" href="brw__draw__upload_8c.html#ad2c7984d5c4966b350b1bc940f6f4cc3">copy_array_to_vbo_array()</a>.</p>

</div>
</div>
<a id="a0e559da6492e3483ff699579efb4ff36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e559da6492e3483ff699579efb4ff36">&sect;&nbsp;</a></span>intel_upload_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> intel_upload_finish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="structbrw__context.html#abcb8a4cf0976eeeddce63c7f357e7c8f">brw_context::bo</a>, <a class="el" href="structbrw__context.html#ac9b6f520ef8953d7c6f04d4591f20aff">brw_context::next_offset</a>, and <a class="el" href="structbrw__context.html#afe52c0f1dc56159d9ab9cda4ff7d6824">brw_context::upload</a>.</p>

<p>Referenced by <a class="el" href="intel__batchbuffer_8h.html#acf4d1d200e30633f1ee62f75ccb64acd">_intel_batchbuffer_flush_fence()</a>, and <a class="el" href="intel__upload_8c.html#a55d61c2b63d3d545c3d71e4f6d14047f">intel_upload_space()</a>.</p>

</div>
</div>
<a id="a55d61c2b63d3d545c3d71e4f6d14047f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d61c2b63d3d545c3d71e4f6d14047f">&sect;&nbsp;</a></span>intel_upload_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a>* intel_upload_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbrw__context.html">brw_context</a> *&#160;</td>
          <td class="paramname"><em>brw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">drm_intel_bo **&#160;</td>
          <td class="paramname"><em>out_bo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>out_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interface for getting memory for uploading streamed data to the GPU. </p>
<p>In most cases, streamed data (for GPU state structures, for example) is uploaded through <a class="el" href="brw__state_8h.html#a5ac38367823e29fd09ed383fe63951a9" title="Allocates a block of space in the batchbuffer for indirect state. ">brw_state_batch()</a>, since that interface allows relocations from the streamed space returned to other BOs. However, that interface has the restriction that the amount of space allocated has to be "small" (see estimated_max_prim_size in <a class="el" href="brw__draw_8c.html">brw_draw.c</a>).</p>
<p>This interface, on the other hand, is able to handle arbitrary sized allocation requests, though it will batch small allocations into the same BO for efficiency and reduced memory footprint.</p>
<dl class="section note"><dt>Note</dt><dd>The returned pointer is valid only until <a class="el" href="intel__upload_8c.html#a0e559da6492e3483ff699579efb4ff36">intel_upload_finish()</a>, which will happen at batch flush or the next <a class="el" href="intel__upload_8c.html#a55d61c2b63d3d545c3d71e4f6d14047f" title="Interface for getting memory for uploading streamed data to the GPU. ">intel_upload_space()</a>/intel_upload_data().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out_bo</td><td>Pointer to a BO, which must point to a valid BO or NULL on entry, and will have a reference to the new BO containing the state on return.</td></tr>
    <tr><td class="paramname">out_offset</td><td>Offset within the buffer object that the data will land. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structbrw__context.html#abcb8a4cf0976eeeddce63c7f357e7c8f">brw_context::bo</a>, <a class="el" href="structbrw__context.html#a09b215d26b759d54ed8f2f9c65f12ba8">brw_context::bufmgr</a>, <a class="el" href="structbrw__context.html#a610c4a6592272306465f42b46e72caa3">brw_context::has_llc</a>, <a class="el" href="intel__upload_8c.html#a0e559da6492e3483ff699579efb4ff36">intel_upload_finish()</a>, <a class="el" href="intel__upload_8c.html#aeb10a5a038280713c06263b239382a45">INTEL_UPLOAD_SIZE</a>, <a class="el" href="structbrw__context.html#ac9b6f520ef8953d7c6f04d4591f20aff">brw_context::next_offset</a>, and <a class="el" href="structbrw__context.html#afe52c0f1dc56159d9ab9cda4ff7d6824">brw_context::upload</a>.</p>

<p>Referenced by <a class="el" href="brw__curbe_8c.html#a685bd9c253cd128c6bd208e72fcde488">brw_upload_constant_buffer()</a>, <a class="el" href="brw__vs__surface__state_8c.html#ad19d3350947231e21827f300b4e17050">brw_upload_pull_constants()</a>, <a class="el" href="brw__draw__upload_8c.html#ad2c7984d5c4966b350b1bc940f6f4cc3">copy_array_to_vbo_array()</a>, and <a class="el" href="intel__upload_8c.html#a46c838329bcfaa1f2d81d8736bb053ce">intel_upload_data()</a>.</p>

</div>
</div>
<a id="a184b696df9ccb8a19e543289fb423053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184b696df9ccb8a19e543289fb423053">&sect;&nbsp;</a></span>intelInitBufferObjectFuncs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/math.tag:../math/" href="../math/m__copy__tmp_8h.html#ac9c84fa68bbad002983e35ce3663c686">void</a> intelInitBufferObjectFuncs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html">dd_function_table</a> *&#160;</td>
          <td class="paramname"><em>functions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="intel__buffer__objects_8c.html#a8c048281a56194c6d86a4fec5d5648c6">brw_buffer_data()</a>, <a class="el" href="intel__buffer__objects_8c.html#ae97d37201668b96c4883f4dfd2f02f03">brw_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a3a15ac7dc64f555f2570c533620c722d">brw_copy_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a7081b5a0ef398013d965d5616f6a869d">brw_delete_buffer()</a>, <a class="el" href="intel__buffer__objects_8c.html#a564f3e3b71fa32734a8d8d9d3583a4a5">brw_flush_mapped_buffer_range()</a>, <a class="el" href="intel__buffer__objects_8c.html#a5ccb41c7e944b0b0a10d0c39d3de6890">brw_get_buffer_subdata()</a>, <a class="el" href="intel__buffer__objects_8c.html#a801b41b5f4b93399367c86b496b18c12">brw_map_buffer_range()</a>, <a class="el" href="intel__buffer__objects_8c.html#ae0b71a7d8cc7ab7620f4cb26786b5f7c">brw_new_buffer_object()</a>, <a class="el" href="intel__buffer__objects_8c.html#ac81e0296a6228d2fbd5092c060738099">brw_unmap_buffer()</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a4454e46507795a6e2a4a5498533d0276">dd_function_table::BufferData</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a62501b7db965256fbbb5f3901519ccf7">dd_function_table::BufferSubData</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a651bb64773f0537e3c162500c9429b7a">dd_function_table::CopyBufferSubData</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#ae344aab5ace1142fd8e1d1d584eed52b">dd_function_table::DeleteBuffer</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#ad03d8357f4a6c60d9abc1eb88d2b10b5">dd_function_table::FlushMappedBufferRange</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a0436d1e7fa127e6d587ca94eb0a93275">dd_function_table::GetBufferSubData</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a0299f99f38a0bb9fc7e27ca6ad845711">dd_function_table::MapBufferRange</a>, <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#a6e8c4d722876535a51304803de86d2fa">dd_function_table::NewBufferObject</a>, and <a class="elRef" doxygen="/opt/mesa/i965/mesa/doxygen/main.tag:../main/" href="../main/structdd__function__table.html#acadc738cfce1575d70f2eed261eb8e0c">dd_function_table::UnmapBuffer</a>.</p>

<p>Referenced by <a class="el" href="brw__context_8c.html#ab670ec47d2c02db29495492708be9e2c">brw_init_driver_functions()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
